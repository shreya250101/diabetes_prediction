MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "March 03, 2024" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17:48:56" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Report Log
Date:                March 03, 2024
Time:                17:48:56
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O3G36VND "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS1\Clus2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O3G36VND new;
MPRINT(EM_DIAGRAM):   run;
29787      data WORK.M3DUA7C1;
MPRINT(EM_DIAGRAM):    data WORK.M3DUA7C1;
29788      set WORK.M3DUA7C1;
MPRINT(EM_DIAGRAM):   set WORK.M3DUA7C1;
29789      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
29790      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 21 observations read from the data set WORK.M3DUA7C1.
NOTE: The data set WORK.M3DUA7C1 has 21 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

29791      data WORK.M3DUA7C1;
MPRINT(EM_DIAGRAM):    data WORK.M3DUA7C1;
29792      set WORK.M3DUA7C1 end=_eof_ nobs=_nobs_;
MPRINT(EM_DIAGRAM):   set WORK.M3DUA7C1 end=_eof_ nobs=_nobs_;
29793      output;
MPRINT(EM_DIAGRAM):   output;
29794      if _eof_ then do;
MPRINT(EM_DIAGRAM):   if _eof_ then do;
29795      name = '_SEGMENT_';
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_';
29796      ROLE = 'TARGET';
MPRINT(EM_DIAGRAM):   ROLE = 'TARGET';
29797      LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
29798      LABEL = 'Segment Variable';
MPRINT(EM_DIAGRAM):   LABEL = 'Segment Variable';
29799      TYPE = 'N';
MPRINT(EM_DIAGRAM):   TYPE = 'N';
29800      FORMAT = '';
MPRINT(EM_DIAGRAM):   FORMAT = '';
29801      INFORMAT = '';
MPRINT(EM_DIAGRAM):   INFORMAT = '';
29802      USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
29803      output;
MPRINT(EM_DIAGRAM):   output;
29804      end;
MPRINT(EM_DIAGRAM):   end;
29805      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 21 observations read from the data set WORK.M3DUA7C1.
NOTE: The data set WORK.M3DUA7C1 has 22 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

29806      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
29807      * Clus2: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Clus2: Create decision matrix;
29808      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29809      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29810      * Clus2: Tree Variables Macro ;
MPRINT(EM_DIAGRAM):   * Clus2: Tree Variables Macro ;
29811      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29812      %macro EM_TREEVARS;
29813          Age AnyHealthcare BMI CholCheck DiffWalk Education Fruits GenHlth
29814         HeartDiseaseorAttack HighBP HighChol HvyAlcoholConsump Income MentHlth
29815         NoDocbcCost PhysActivity PhysHlth Sex Smoker Stroke Veggies
29816      %mend EM_TREEVARS;
29817      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29818      * Clus2: Tree Targets Macro ;
MPRINT(EM_DIAGRAM):   * Clus2: Tree Targets Macro ;
29819      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29820      %macro EM_TREETARGETS;
29821          _SEGMENT_
29822      %mend EM_TREETARGETS;
29823      data EMWS1.EM_Clus2 / view=EMWS1.EM_Clus2;
MPRINT(EM_DIAGRAM):   data EMWS1.EM_Clus2 / view=EMWS1.EM_Clus2;
29824      set
29824    ! EMWS1.Clus2_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_TRAIN(keep
MPRINT(EM_DIAGRAM):  =Age AnyHealthcare BMI CholCheck DiffWalk Education Fruits GenHlth HeartDiseaseorAttack HighBP HighChol HvyAlcoholConsump Income MentHlth NoDocbcCost PhysActivity PhysHlth Sex Smoker Stroke Veggies _SEGMENT_);
29825      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file EMWS1.EM_CLUS2.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.11 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.17 seconds
      cpu time            0.14 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Clus2: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29826      *------------------------------------------------------------* ;
29827      * Clus2: Interval Inputs Macro ;
29828      *------------------------------------------------------------* ;
29829      %macro INTINPUTS;
29830          Age BMI
29831      %mend INTINPUTS;
29832      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29833      * Clus2: Binary and Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus2: Binary and Nominal Inputs Macro ;
29834      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29835      %macro NOMINPUTS;
29836          AnyHealthcare CholCheck DiffWalk Fruits HeartDiseaseorAttack HighBP HighChol
29837         HvyAlcoholConsump NoDocbcCost PhysActivity Sex Smoker Stroke Veggies
29838      %mend NOMINPUTS;
29839      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29840      * Clus2: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus2: Ordinal Inputs Macro ;
29841      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
29842      %macro ORDINPUTS;
29843          Education GenHlth Income MentHlth PhysHlth
29844      %mend ORDINPUTS;
29845      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29846      * Clus2: Run ARBOR procedure;
MPRINT(EM_DIAGRAM):   * Clus2: Run ARBOR procedure;
29847      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

29848      proc arbor data=EMWS1.EM_Clus2
29849      MAXSURRS=5
29850      ;
MPRINT(EM_DIAGRAM):    proc arbor data=EMWS1.EM_Clus2 MAXSURRS=5 ;
29851      ;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   input
29852      input %INTINPUTS
MPRINT(INTINPUTS):   Age BMI
29853      / level = interval;
MPRINT(EM_DIAGRAM):   / level = interval;
MPRINT(EM_DIAGRAM):   input
29854      input %NOMINPUTS
MPRINT(NOMINPUTS):   AnyHealthcare CholCheck DiffWalk Fruits HeartDiseaseorAttack HighBP HighChol HvyAlcoholConsump NoDocbcCost PhysActivity Sex Smoker Stroke Veggies
29855      / level=nominal;
MPRINT(EM_DIAGRAM):   / level=nominal;
MPRINT(EM_DIAGRAM):   input
29856      input %ORDINPUTS
MPRINT(ORDINPUTS):   Education GenHlth Income MentHlth PhysHlth
29857      / level=ordinal;
MPRINT(EM_DIAGRAM):   / level=ordinal;
29858      target _SEGMENT_ / level=NOMINAL
29859      Criterion=PROBCHISQ
29860      ;
MPRINT(EM_DIAGRAM):   target _SEGMENT_ / level=NOMINAL Criterion=PROBCHISQ ;
29861      ;
MPRINT(EM_DIAGRAM):   ;
29862      Performance DISK
29863      ;
MPRINT(EM_DIAGRAM):   Performance DISK ;
29864      MAKEMACRO NLEAVES=nleaves;
MPRINT(EM_DIAGRAM):   MAKEMACRO NLEAVES=nleaves;
NOTE: 1532552 kilobytes of physical memory.
NOTE: Will use 223088 out of 223088 training cases.
NOTE: Using memory pool with 415667200 bytes.
NOTE: Passed training data 18 times.
NOTE: Training used 24272080 bytes of work memory.
NOTE: The subtree sequence contains 32 subtrees. The largest has 63 nodes and 32 leaves.
NOTE: Using subtree with 29 nodes and 15 leaves.
NOTE: Created macro variable NLEAVES equal to 15.
29865      save
29866      MODEL=EMWS1.Clus2_PLOTDS
29867      SEQUENCE=EMWS1.Clus2_OUTSEQ
29868      IMPORTANCE=EMWS1.Clus2_OUTIMPORT
29869      NODESTAT=EMWS1.Clus2_OUTNODES
29870      SUMMARY=WORK.OUTSUMMARY_TREE_3CJSY59
29871      STATSBYNODE=WORK.OUTSTATS_TREE_3CJSY59
29872      Pathlistnonmissing = WORK.OUTPATH_TREE_3CJSY59
29873      Rules = WORK.OUTRULES_TREE_3CJSY59
29874      ;
MPRINT(EM_DIAGRAM):   save MODEL=EMWS1.Clus2_PLOTDS SEQUENCE=EMWS1.Clus2_OUTSEQ IMPORTANCE=EMWS1.Clus2_OUTIMPORT NODESTAT=EMWS1.Clus2_OUTNODES SUMMARY=WORK.OUTSUMMARY_TREE_3CJSY59 STATSBYNODE=WORK.OUTSTATS_TREE_3CJSY59 Pathlistnonmissing = 
WORK.OUTPATH_TREE_3CJSY59 Rules = WORK.OUTRULES_TREE_3CJSY59 ;
NOTE: The data set EMWS1.CLUS2_OUTIMPORT has 21 observations and 5 variables.
NOTE: The data set EMWS1.CLUS2_PLOTDS has 2431 observations and 4 variables.
NOTE: The data set EMWS1.CLUS2_OUTNODES has 29 observations and 22 variables.
NOTE: The data set WORK.OUTPATH_TREE_3CJSY59 has 115 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_3CJSY59 has 488 observations and 6 variables.
NOTE: The data set EMWS1.CLUS2_OUTSEQ has 32 observations and 11 variables.
NOTE: The data set WORK.OUTSTATS_TREE_3CJSY59 has 145 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_3CJSY59 has 16 observations and 6 variables.
29875      run;
MPRINT(EM_DIAGRAM):   run;

29876      quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: There were 223088 observations read from the data set EMWS1.SMPL_DATA.
NOTE: View EMWS1.EM_CLUS2.VIEW used (Total process time):
      real time           28.79 seconds
      cpu time            28.18 seconds
      
NOTE: There were 223088 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 223088 observations read from the data set EMWS1.EM_CLUS2.
NOTE: The data set WORK._NAMEDAT has 3 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           28.90 seconds
      cpu time            28.23 seconds
      

29877      data EMWS1.Clus2_OUTIMPORT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus2_OUTIMPORT;
29878      set EMWS1.Clus2_OUTIMPORT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_OUTIMPORT;
29879      label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
29880         "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
29881      ;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" LABEL = "Label" NRULES = "Number of Splitting Rules" IMPORTANCE = "Importance" NSURROGATES = "Number of Surrogate Rules" ;
29882      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 21 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
NOTE: The data set EMWS1.CLUS2_OUTIMPORT has 21 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.17 seconds
      cpu time            0.09 seconds
      

29883      filename x "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS1\Clus2\ENGLISHRULES.txt" encoding='utf-8' NOBOM;
MPRINT(EM_DIAGRAM):   filename x "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS1\Clus2\ENGLISHRULES.txt" encoding='utf-8' NOBOM;
29884      data temp;
MPRINT(EM_DIAGRAM):    data temp;
29885      length varname $20;
MPRINT(EM_DIAGRAM):   length varname $20;
29886      retain varname;
MPRINT(EM_DIAGRAM):   retain varname;
29887      set WORK.OUTPATH_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTPATH_TREE_3CJSY59;
29888      if ^missing(variable) then varname=variable;
MPRINT(EM_DIAGRAM):   if ^missing(variable) then varname=variable;
29889      else if ^missing(var_name) then varname=var_name;
MPRINT(EM_DIAGRAM):   else if ^missing(var_name) then varname=var_name;
29890      output;
MPRINT(EM_DIAGRAM):   output;
29891      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 115 observations read from the data set WORK.OUTPATH_TREE_3CJSY59.
NOTE: The data set WORK.TEMP has 115 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

29892      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
29893      by node;
MPRINT(EM_DIAGRAM):   by node;
29894      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 115 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 115 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

29895      proc sort data=EMWS1.Clus2_OUTNODES out=outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_OUTNODES out=outnodes;
29896      by node;
MPRINT(EM_DIAGRAM):   by node;
29897      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_OUTNODES.
NOTE: The data set WORK.OUTNODES has 29 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

29898      data temp;
MPRINT(EM_DIAGRAM):   data temp;
29899      merge temp(in=_a) outnodes(keep= node
29900      NPRIORS
29901      P__SEGMENT_1
29902      P__SEGMENT_2
29903      P__SEGMENT_3
29904      );
MPRINT(EM_DIAGRAM):   merge temp(in=_a) outnodes(keep= node NPRIORS P__SEGMENT_1 P__SEGMENT_2 P__SEGMENT_3 );
29905      by node;
MPRINT(EM_DIAGRAM):   by node;
29906      if _a;
MPRINT(EM_DIAGRAM):   if _a;
29907      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 115 observations read from the data set WORK.TEMP.
NOTE: There were 29 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 115 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

29908      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
29909      by node descending varname descending numeric_value;
MPRINT(EM_DIAGRAM):   by node descending varname descending numeric_value;
29910      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 115 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 115 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

29911      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
29912      file x;
MPRINT(EM_DIAGRAM):   file x;
29913      set temp;
MPRINT(EM_DIAGRAM):   set temp;
29914      by node descending varname;
MPRINT(EM_DIAGRAM):   by node descending varname;
29915      retain origvar oldnode string;
MPRINT(EM_DIAGRAM):   retain origvar oldnode string;
29916      length origvar $32 oldnode 8 string $200;
MPRINT(EM_DIAGRAM):   length origvar $32 oldnode 8 string $200;
29917      if _n_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _n_ = 1 then do;
29918      origvar = varname;
MPRINT(EM_DIAGRAM):   origvar = varname;
29919      oldnode = node;
MPRINT(EM_DIAGRAM):   oldnode = node;
29920      end;
MPRINT(EM_DIAGRAM):   end;
29921      if first.node then do;
MPRINT(EM_DIAGRAM):   if first.node then do;
29922      put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
29923      put " Node = " node;
MPRINT(EM_DIAGRAM):   put " Node = " node;
29924      put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
29925      end;
MPRINT(EM_DIAGRAM):   end;
29926      if first.varname then do;
MPRINT(EM_DIAGRAM):   if first.varname then do;
29927      if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
29928      if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
29929      if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
29930      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
29931      string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
29932      end;
MPRINT(EM_DIAGRAM):   end;
29933      else do;
MPRINT(EM_DIAGRAM):   else do;
29934      string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
29935      end;
MPRINT(EM_DIAGRAM):   end;
29936      end;
MPRINT(EM_DIAGRAM):   end;
29937      end;
MPRINT(EM_DIAGRAM):   end;
29938      else do;
MPRINT(EM_DIAGRAM):   else do;
29939      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
29940      string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
29941      end;
MPRINT(EM_DIAGRAM):   end;
29942      else do;
MPRINT(EM_DIAGRAM):   else do;
29943      string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
29944      end;
MPRINT(EM_DIAGRAM):   end;
29945      end;
MPRINT(EM_DIAGRAM):   end;
29946      end;
MPRINT(EM_DIAGRAM):   end;
29947      else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
29948      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
29949      string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
29950      end;
MPRINT(EM_DIAGRAM):   end;
29951      else do;
MPRINT(EM_DIAGRAM):   else do;
29952      string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
29953      end;
MPRINT(EM_DIAGRAM):   end;
29954      end;
MPRINT(EM_DIAGRAM):   end;
29955      else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
29956      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
29957      string = " AND "|| strip(varname) || " equals Missing";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals Missing";
29958      end;
MPRINT(EM_DIAGRAM):   end;
29959      else do;
MPRINT(EM_DIAGRAM):   else do;
29960      string = "if "|| strip(varname) ||" equals Missing";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals Missing";
29961      end;
MPRINT(EM_DIAGRAM):   end;
29962      end;
MPRINT(EM_DIAGRAM):   end;
29963      else if RELATION in ("ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISNOTMISSING") then do;
29964      if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
29965      string = " AND "|| strip(varname) || " equals All Values";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals All Values";
29966      end;
MPRINT(EM_DIAGRAM):   end;
29967      else do;
MPRINT(EM_DIAGRAM):   else do;
29968      string = "if "|| strip(varname) ||" equals All Values";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals All Values";
29969      end;
MPRINT(EM_DIAGRAM):   end;
29970      end;
MPRINT(EM_DIAGRAM):   end;
29971      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
29972      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
29973      end;
MPRINT(EM_DIAGRAM):   end;
29974      else do;
MPRINT(EM_DIAGRAM):   else do;
29975      if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
29976      if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
29977      if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
29978      if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
29979      else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
29980      end;
MPRINT(EM_DIAGRAM):   end;
29981      end;
MPRINT(EM_DIAGRAM):   end;
29982      else do;
MPRINT(EM_DIAGRAM):   else do;
29983      if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
29984      else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
29985      end;
MPRINT(EM_DIAGRAM):   end;
29986      end;
MPRINT(EM_DIAGRAM):   end;
29987      else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
29988      string = strip(string)||", "||strip(character_value);
MPRINT(EM_DIAGRAM):   string = strip(string)||", "||strip(character_value);
29989      end;
MPRINT(EM_DIAGRAM):   end;
29990      else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
29991      end;
MPRINT(EM_DIAGRAM):   end;
29992      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
29993      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
29994      end;
MPRINT(EM_DIAGRAM):   end;
29995      if last.varname then do;
MPRINT(EM_DIAGRAM):   if last.varname then do;
29996      if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION in ("ISMISSING") then do;
29997      if ^first.varname then do;
MPRINT(EM_DIAGRAM):   if ^first.varname then do;
29998      string = strip(string) || " or MISSING";
MPRINT(EM_DIAGRAM):   string = strip(string) || " or MISSING";
29999      end;
MPRINT(EM_DIAGRAM):   end;
30000      end;
MPRINT(EM_DIAGRAM):   end;
30001      put string;
MPRINT(EM_DIAGRAM):   put string;
30002      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
30003      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
30004      end;
MPRINT(EM_DIAGRAM):   end;
30005      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
30006      put "then ";
MPRINT(EM_DIAGRAM):   put "then ";
30007      put " Tree Node Identifier   = " node;
MPRINT(EM_DIAGRAM):   put " Tree Node Identifier   = " node;
30008      put " Number of Observations = " NPRIORS;
MPRINT(EM_DIAGRAM):   put " Number of Observations = " NPRIORS;
30009      put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
30010      put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
MPRINT(EM_DIAGRAM):   put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
30011      put " Predicted: _SEGMENT_=3  = " P__SEGMENT_3;
MPRINT(EM_DIAGRAM):   put " Predicted: _SEGMENT_=3  = " P__SEGMENT_3;
30012      put " ";
MPRINT(EM_DIAGRAM):   put " ";
30013      if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
30014      oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
30015      end;
MPRINT(EM_DIAGRAM):   end;
30016      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      29931:67    29934:66    29978:108   29979:72    
NOTE: The file X is:
      Filename=\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS1\Clus2\ENGLISHRULES.txt,
      RECFM=V,LRECL=131068,File Size (bytes)=0,
      Last Modified=03Mar2024:17:49:26,
      Create Time=03Mar2024:17:49:26

NOTE: 217 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 62.
NOTE: There were 115 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

30017      filename x;
MPRINT(EM_DIAGRAM):    filename x;
NOTE: Fileref X has been deassigned.
30018      /* belowtext */
30019      data templabel;
MPRINT(EM_DIAGRAM):    data templabel;
30020      set WORK.OUTRULES_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_3CJSY59;
30021      if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
30022      rename character_value = belowtext;
MPRINT(EM_DIAGRAM):   rename character_value = belowtext;
30023      keep NODE character_value;
MPRINT(EM_DIAGRAM):   keep NODE character_value;
30024      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 488 observations read from the data set WORK.OUTRULES_TREE_3CJSY59.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.03 seconds
      

30025      data tempvar;
MPRINT(EM_DIAGRAM):   data tempvar;
30026      set WORK.OUTRULES_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_3CJSY59;
30027      if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
30028      keep NODE character_value;
MPRINT(EM_DIAGRAM):   keep NODE character_value;
30029      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 488 observations read from the data set WORK.OUTRULES_TREE_3CJSY59.
NOTE: The data set WORK.TEMPVAR has 14 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30030      proc sort data=templabel;
MPRINT(EM_DIAGRAM):   proc sort data=templabel;
30031      by node;
MPRINT(EM_DIAGRAM):   by node;
30032      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30033      proc sort data=tempvar;
MPRINT(EM_DIAGRAM):   proc sort data=tempvar;
30034      by node;
MPRINT(EM_DIAGRAM):   by node;
30035      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 14 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 14 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

30036      data tempbelow;
MPRINT(EM_DIAGRAM):   data tempbelow;
30037      merge templabel tempvar;
MPRINT(EM_DIAGRAM):   merge templabel tempvar;
30038      by node;
MPRINT(EM_DIAGRAM):   by node;
30039      if missing(belowtext) then belowtext= character_value;
MPRINT(EM_DIAGRAM):   if missing(belowtext) then belowtext= character_value;
30040      keep node belowtext;
MPRINT(EM_DIAGRAM):   keep node belowtext;
30041      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK.TEMPLABEL.
NOTE: There were 14 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPBELOW has 14 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

30042      proc sort data=tempbelow;
MPRINT(EM_DIAGRAM):   proc sort data=tempbelow;
30043      by node;
MPRINT(EM_DIAGRAM):   by node;
30044      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 14 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.TEMPBELOW has 14 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30045      /* abovetext */
30046      data tempoutrules;
MPRINT(EM_DIAGRAM):   data tempoutrules;
30047      set WORK.OUTRULES_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_3CJSY59;
30048      if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
MPRINT(EM_DIAGRAM):   if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
30049      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 488 observations read from the data set WORK.OUTRULES_TREE_3CJSY59.
NOTE: The data set WORK.TEMPOUTRULES has 25 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30050      proc sort data=tempoutrules;
MPRINT(EM_DIAGRAM):   proc sort data=tempoutrules;
30051      by node numeric_value;
MPRINT(EM_DIAGRAM):   by node numeric_value;
30052      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPOUTRULES has 25 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30053      data tempabove;
MPRINT(EM_DIAGRAM):   data tempabove;
30054      set tempoutrules(rename=(node=parent));
MPRINT(EM_DIAGRAM):   set tempoutrules(rename=(node=parent));
30055      by parent numeric_value;
MPRINT(EM_DIAGRAM):   by parent numeric_value;
30056      retain abovetext tempstring flag branch origval origchar;
MPRINT(EM_DIAGRAM):   retain abovetext tempstring flag branch origval origchar;
30057      *length abovetext tempstring origchar $45;
MPRINT(EM_DIAGRAM):   *length abovetext tempstring origchar $45;
30058      length abovetext $256;
MPRINT(EM_DIAGRAM):   length abovetext $256;
30059      length tempstring origchar $64;
MPRINT(EM_DIAGRAM):   length tempstring origchar $64;
30060      if STAT in ("INTERVAL", "ORDINAL") then do;
MPRINT(EM_DIAGRAM):   if STAT in ("INTERVAL", "ORDINAL") then do;
30061      if first.parent then do;
MPRINT(EM_DIAGRAM):   if first.parent then do;
30062      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30063      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30064      abovetext = "< "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = "< "||strip(NUMERIC_VALUE);
30065      branch = 1;
MPRINT(EM_DIAGRAM):   branch = 1;
30066      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
30067      output;
MPRINT(EM_DIAGRAM):   output;
30068      end;
MPRINT(EM_DIAGRAM):   end;
30069      else do;
MPRINT(EM_DIAGRAM):   else do;
30070      abovetext = "< "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = "< "||strip(CHARACTER_VALUE);
30071      branch = 1;
MPRINT(EM_DIAGRAM):   branch = 1;
30072      origchar = character_value;
MPRINT(EM_DIAGRAM):   origchar = character_value;
30073      output;
MPRINT(EM_DIAGRAM):   output;
30074      end;
MPRINT(EM_DIAGRAM):   end;
30075      if first.parent AND last.parent then do;
MPRINT(EM_DIAGRAM):   if first.parent AND last.parent then do;
30076      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30077      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30078      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30079      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
30080      output;
MPRINT(EM_DIAGRAM):   output;
30081      end;
MPRINT(EM_DIAGRAM):   end;
30082      else do;
MPRINT(EM_DIAGRAM):   else do;
30083      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30084      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
30085      output;
MPRINT(EM_DIAGRAM):   output;
30086      end;
MPRINT(EM_DIAGRAM):   end;
30087      end;
MPRINT(EM_DIAGRAM):   end;
30088      end;
MPRINT(EM_DIAGRAM):   end;
30089      else if last.parent then do;
MPRINT(EM_DIAGRAM):   else if last.parent then do;
30090      if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
MPRINT(EM_DIAGRAM):   if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
30091      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30092      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30093      abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
MPRINT(EM_DIAGRAM):   abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
30094      end;
MPRINT(EM_DIAGRAM):   end;
30095      else do;
MPRINT(EM_DIAGRAM):   else do;
30096      abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
MPRINT(EM_DIAGRAM):   abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
30097      end;
MPRINT(EM_DIAGRAM):   end;
30098      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30099      output;
MPRINT(EM_DIAGRAM):   output;
30100      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30101      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30102      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
30103      end;
MPRINT(EM_DIAGRAM):   end;
30104      else do;
MPRINT(EM_DIAGRAM):   else do;
30105      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
30106      end;
MPRINT(EM_DIAGRAM):   end;
30107      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30108      output;
MPRINT(EM_DIAGRAM):   output;
30109      end;
MPRINT(EM_DIAGRAM):   end;
30110      else do;
MPRINT(EM_DIAGRAM):   else do;
30111      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30112      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30113      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
30114      end;
MPRINT(EM_DIAGRAM):   end;
30115      else do;
MPRINT(EM_DIAGRAM):   else do;
30116      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
30117      end;
MPRINT(EM_DIAGRAM):   end;
30118      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30119      output;
MPRINT(EM_DIAGRAM):   output;
30120      end;
MPRINT(EM_DIAGRAM):   end;
30121      end;
MPRINT(EM_DIAGRAM):   end;
30122      else do;
MPRINT(EM_DIAGRAM):   else do;
30123      if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
MPRINT(EM_DIAGRAM):   if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
30124      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30125      numeric_value = round(numeric_value,0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value,0.0001);
30126      abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
MPRINT(EM_DIAGRAM):   abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
30127      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
30128      end;
MPRINT(EM_DIAGRAM):   end;
30129      else do;
MPRINT(EM_DIAGRAM):   else do;
30130      abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
MPRINT(EM_DIAGRAM):   abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
30131      origchar = character_value;
MPRINT(EM_DIAGRAM):   origchar = character_value;
30132      end;
MPRINT(EM_DIAGRAM):   end;
30133      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30134      output;
MPRINT(EM_DIAGRAM):   output;
30135      end;
MPRINT(EM_DIAGRAM):   end;
30136      else do;
MPRINT(EM_DIAGRAM):   else do;
30137      if missing(character_value) then do;
MPRINT(EM_DIAGRAM):   if missing(character_value) then do;
30138      numeric_value = round(numeric_value, 0.0001);
MPRINT(EM_DIAGRAM):   numeric_value = round(numeric_value, 0.0001);
30139      abovetext = ">= "||strip(NUMERIC_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(NUMERIC_VALUE);
30140      origval = numeric_value;
MPRINT(EM_DIAGRAM):   origval = numeric_value;
30141      end;
MPRINT(EM_DIAGRAM):   end;
30142      else do;
MPRINT(EM_DIAGRAM):   else do;
30143      abovetext = ">= "||strip(CHARACTER_VALUE);
MPRINT(EM_DIAGRAM):   abovetext = ">= "||strip(CHARACTER_VALUE);
30144      origval = character_value;
MPRINT(EM_DIAGRAM):   origval = character_value;
30145      end;
MPRINT(EM_DIAGRAM):   end;
30146      branch = branch + 1;
MPRINT(EM_DIAGRAM):   branch = branch + 1;
30147      output;
MPRINT(EM_DIAGRAM):   output;
30148      end;
MPRINT(EM_DIAGRAM):   end;
30149      end;
MPRINT(EM_DIAGRAM):   end;
30150      end;
MPRINT(EM_DIAGRAM):   end;
30151      else do;
MPRINT(EM_DIAGRAM):   else do;
30152      if first.numeric_value then do;
MPRINT(EM_DIAGRAM):   if first.numeric_value then do;
30153      flag = 0;
MPRINT(EM_DIAGRAM):   flag = 0;
30154      abovetext = CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   abovetext = CHARACTER_VALUE;
30155      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
30156      if first.numeric_value AND last.numeric_value then do;
MPRINT(EM_DIAGRAM):   if first.numeric_value AND last.numeric_value then do;
30157      output;
MPRINT(EM_DIAGRAM):   output;
30158      end;
MPRINT(EM_DIAGRAM):   end;
30159      end;
MPRINT(EM_DIAGRAM):   end;
30160      else if last.numeric_value then do;
MPRINT(EM_DIAGRAM):   else if last.numeric_value then do;
30161      if flag=0 then do;
MPRINT(EM_DIAGRAM):   if flag=0 then do;
30162      tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
30163      length = length(strip(tempstring));
MPRINT(EM_DIAGRAM):   length = length(strip(tempstring));
30164      if length < 32 then do;
MPRINT(EM_DIAGRAM):   if length < 32 then do;
30165      abovetext = strip(tempstring);
MPRINT(EM_DIAGRAM):   abovetext = strip(tempstring);
30166      end;
MPRINT(EM_DIAGRAM):   end;
30167      else do;
MPRINT(EM_DIAGRAM):   else do;
30168      abovetext = strip(abovetext)||", ...";
MPRINT(EM_DIAGRAM):   abovetext = strip(abovetext)||", ...";
30169      flag = 1;
MPRINT(EM_DIAGRAM):   flag = 1;
30170      end;
MPRINT(EM_DIAGRAM):   end;
30171      end;
MPRINT(EM_DIAGRAM):   end;
30172      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
30173      output;
MPRINT(EM_DIAGRAM):   output;
30174      end;
MPRINT(EM_DIAGRAM):   end;
30175      else do;
MPRINT(EM_DIAGRAM):   else do;
30176      if flag=0 then do;
MPRINT(EM_DIAGRAM):   if flag=0 then do;
30177      tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
MPRINT(EM_DIAGRAM):   tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
30178      length = length(strip(tempstring));
MPRINT(EM_DIAGRAM):   length = length(strip(tempstring));
30179      if length < 32 then do;
MPRINT(EM_DIAGRAM):   if length < 32 then do;
30180      abovetext = strip(tempstring);
MPRINT(EM_DIAGRAM):   abovetext = strip(tempstring);
30181      end;
MPRINT(EM_DIAGRAM):   end;
30182      else do;
MPRINT(EM_DIAGRAM):   else do;
30183      abovetext = strip(abovetext)||", ...";
MPRINT(EM_DIAGRAM):   abovetext = strip(abovetext)||", ...";
30184      flag=1;
MPRINT(EM_DIAGRAM):   flag=1;
30185      end;
MPRINT(EM_DIAGRAM):   end;
30186      end;
MPRINT(EM_DIAGRAM):   end;
30187      branch = numeric_value;
MPRINT(EM_DIAGRAM):   branch = numeric_value;
30188      end;
MPRINT(EM_DIAGRAM):   end;
30189      end;
MPRINT(EM_DIAGRAM):   end;
30190      keep parent branch abovetext;
MPRINT(EM_DIAGRAM):   keep parent branch abovetext;
30191      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      30064:25   30079:26   30093:24   30093:47   30102:26   30113:26   30126:24   30126:47   30139:26   
NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      30144:11   
NOTE: There were 25 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPABOVE has 28 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30192      /* MIssing value to abovetext */
30193      data tempmissing;
MPRINT(EM_DIAGRAM):   data tempmissing;
30194      set WORK.OUTRULES_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTRULES_TREE_3CJSY59;
30195      if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
MPRINT(EM_DIAGRAM):   if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
30196      rename node=parent numeric_value=branch character_value=misschar;
MPRINT(EM_DIAGRAM):   rename node=parent numeric_value=branch character_value=misschar;
30197      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 488 observations read from the data set WORK.OUTRULES_TREE_3CJSY59.
NOTE: The data set WORK.TEMPMISSING has 14 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

30198      proc sort data=work.tempabove;
MPRINT(EM_DIAGRAM):   proc sort data=work.tempabove;
30199      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
30200      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 28 observations read from the data set WORK.TEMPABOVE.
NOTE: The data set WORK.TEMPABOVE has 28 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

30201      proc sort data=EMWS1.Clus2_OUTNODES out=tempoutnodes;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_OUTNODES out=tempoutnodes;
30202      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
30203      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_OUTNODES.
NOTE: The data set WORK.TEMPOUTNODES has 29 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30204      proc sort data=tempmissing;
MPRINT(EM_DIAGRAM):   proc sort data=tempmissing;
30205      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
30206      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 14 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.TEMPMISSING has 14 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30207      data WORK.Clus2_outnodes;
MPRINT(EM_DIAGRAM):   data WORK.Clus2_outnodes;
30208      merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
MPRINT(EM_DIAGRAM):   merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
30209      by parent branch;
MPRINT(EM_DIAGRAM):   by parent branch;
30210      length traintotal validtotal 8;
MPRINT(EM_DIAGRAM):   length traintotal validtotal 8;
30211      retain traintotal validtotal;
MPRINT(EM_DIAGRAM):   retain traintotal validtotal;
30212      if _a then do;
MPRINT(EM_DIAGRAM):   if _a then do;
30213      if ^MISSING(abovetext) then do;
MPRINT(EM_DIAGRAM):   if ^MISSING(abovetext) then do;
30214      abovetext= strip(abovetext)||" %sysfunc(sasmsg(sashelp.dmine, tree_ormiss_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   abovetext= strip(abovetext)||" Or Missing";
30215      end;
MPRINT(EM_DIAGRAM):   end;
30216      else do;
MPRINT(EM_DIAGRAM):   else do;
30217      abovetext = " %sysfunc(sasmsg(sashelp.dmine, tree_missonly_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   abovetext = " Missing Values Only";
30218      end;
MPRINT(EM_DIAGRAM):   end;
30219      end;
MPRINT(EM_DIAGRAM):   end;
30220      if MISSING(abovetext) then abovetext="%sysfunc(sasmsg(sashelp.dmine, tree_nonmiss_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   if MISSING(abovetext) then abovetext="Non-Missing Values";
30221      if node=1 then do;
MPRINT(EM_DIAGRAM):   if node=1 then do;
30222      traintotal = N;
MPRINT(EM_DIAGRAM):   traintotal = N;
30223      validtotal=VN;
MPRINT(EM_DIAGRAM):   validtotal=VN;
30224      end;
MPRINT(EM_DIAGRAM):   end;
30225      label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label traintotal = "Train Total";
30226      drop role rank stat misschar belowtext;
MPRINT(EM_DIAGRAM):   drop role rank stat misschar belowtext;
30227      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable VN is uninitialized.
NOTE: There were 28 observations read from the data set WORK.TEMPABOVE.
NOTE: There were 29 observations read from the data set WORK.TEMPOUTNODES.
NOTE: There were 14 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.CLUS2_OUTNODES has 29 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30228      proc sort data=WORK.Clus2_outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Clus2_outnodes;
30229      by node;
MPRINT(EM_DIAGRAM):   by node;
30230      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set WORK.CLUS2_OUTNODES has 29 observations and 24 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30231      proc sort data=tempbelow;
MPRINT(EM_DIAGRAM):   proc sort data=tempbelow;
30232      by node;
MPRINT(EM_DIAGRAM):   by node;
30233      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

30234      data WORK.Clus2_outnodes;
MPRINT(EM_DIAGRAM):   data WORK.Clus2_outnodes;
30235      merge WORK.Clus2_outnodes tempbelow;
MPRINT(EM_DIAGRAM):   merge WORK.Clus2_outnodes tempbelow;
30236      by node;
MPRINT(EM_DIAGRAM):   by node;
30237      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: There were 14 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.CLUS2_OUTNODES has 29 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

NOTE: There were 223088 observations read from the data set EMWS1.SMPL_DATA.
NOTE: View EMWS1.EM_CLUS2.VIEW used (Total process time):
      real time           1.66 seconds
      cpu time            1.60 seconds
      
NOTE: There were 223088 observations read from the data set EMWS1.CLUS2_TRAIN.
30238      data tempoutstats;
MPRINT(EM_DIAGRAM):    data tempoutstats;
30239      set WORK.OUTSTATS_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTSTATS_TREE_3CJSY59;
30240      length tarlevel $8;
MPRINT(EM_DIAGRAM):   length tarlevel $8;
30241      tarlevel ="NOMINAL";
MPRINT(EM_DIAGRAM):   tarlevel ="NOMINAL";
30242      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 145 observations read from the data set WORK.OUTSTATS_TREE_3CJSY59.
NOTE: The data set WORK.TEMPOUTSTATS has 145 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

30243      data EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus2_TREE_PLOT;
30244      length NODETEXT TEXTALL $800 N NODECOLOR 8;
MPRINT(EM_DIAGRAM):   length NODETEXT TEXTALL $800 N NODECOLOR 8;
30245      set WORK.Clus2_outnodes;
MPRINT(EM_DIAGRAM):   set WORK.Clus2_outnodes;
30246      label parent = "%sysfunc(sasmsg(sashelp.dmine, rpt_parentID_vlabel, noquote))" depth = "%sysfunc(sasmsg(sashelp.dmine, rpt_depth_vlabel, noquote))" belowtext= "%sysfunc(sasmsg(sashelp.dmine, rpt_belowtext_vlabel, noquote))" abovetext =
30247         "%sysfunc(sasmsg(sashelp.dmine, rpt_abovetext_vlabel, noquote))" linkwidth = "%sysfunc(sasmsg(sashelp.dmine, rpt_linkwidth_vlabel, noquote))" nodetext = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodetext_vlabel, noquote))" textall =
30248         "%sysfunc(sasmsg(sashelp.dmine, rpt_textall_vlabel, noquote))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainn_vlabel, noquote))" nodecolor = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodecolor_vlabel, noquote))" node =
30249         "%sysfunc(sasmsg(sashelp.dmine, rpt_node_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label parent = "Parent Id" depth = "Depth" belowtext= "Below Text" abovetext = "Above Text" linkwidth = "Link Width" nodetext = "Node Text" textall = "All Text" N = "Train: Number of Observations" nodecolor = "Node Color" node = 
"Node";
30250      keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
MPRINT(EM_DIAGRAM):   keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
30251      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable TEXTALL is uninitialized.
NOTE: Variable NODECOLOR is uninitialized.
NOTE: There were 29 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.07 seconds
      

30252      proc sort data=EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_TREE_PLOT;
30253      by node;
MPRINT(EM_DIAGRAM):   by node;
30254      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.34 seconds
      cpu time            0.07 seconds
      

30255      proc sort data=tempoutstats;
MPRINT(EM_DIAGRAM):   proc sort data=tempoutstats;
30256      by node;
MPRINT(EM_DIAGRAM):   by node;
30257      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 145 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set WORK.TEMPOUTSTATS has 145 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30258      data EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):    data EMWS1.Clus2_TREE_PLOT;
30259      merge EMWS1.Clus2_TREE_PLOT tempoutstats;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_TREE_PLOT tempoutstats;
30260      length text $800 _RASE_ P__SEGMENT_1 8;
MPRINT(EM_DIAGRAM):   length text $800 _RASE_ P__SEGMENT_1 8;
30261      retain P__SEGMENT_1 eventlevel;
MPRINT(EM_DIAGRAM):   retain P__SEGMENT_1 eventlevel;
30262      by node;
MPRINT(EM_DIAGRAM):   by node;
30263      if statname='N' then N=statvalue;
MPRINT(EM_DIAGRAM):   if statname='N' then N=statvalue;
30264      if statname='NPRIORS' then N=statvalue;
MPRINT(EM_DIAGRAM):   if statname='NPRIORS' then N=statvalue;
30265      if statname='PREDICTION' then eventlevel=category;
MPRINT(EM_DIAGRAM):   if statname='PREDICTION' then eventlevel=category;
30266      _RASE_ = .;
MPRINT(EM_DIAGRAM):   _RASE_ = .;
30267      if tarlevel ^= 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if tarlevel ^= 'INTERVAL' then do;
30268      if STATNAME = 'PROBABILITY' then do;
MPRINT(EM_DIAGRAM):   if STATNAME = 'PROBABILITY' then do;
30269      if CATEGORY=EVENTLEVEL then do;
MPRINT(EM_DIAGRAM):   if CATEGORY=EVENTLEVEL then do;
30270      nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
30271      text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
30272      P__SEGMENT_1 = round(STATVALUE, .01);
MPRINT(EM_DIAGRAM):   P__SEGMENT_1 = round(STATVALUE, .01);
30273      end;
MPRINT(EM_DIAGRAM):   end;
30274      else do;
MPRINT(EM_DIAGRAM):   else do;
30275      text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
MPRINT(EM_DIAGRAM):   text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
30276      end;
MPRINT(EM_DIAGRAM):   end;
30277      textall = strip(textall)||'0A'x||strip( text);
MPRINT(EM_DIAGRAM):   textall = strip(textall)||'0A'x||strip( text);
30278      end;
MPRINT(EM_DIAGRAM):   end;
30279      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
30280      nodetext = trim(nodetext)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   nodetext = trim(nodetext)||'0A'x||" Count:"|| put(N, 13.);
30281      textall = trim(textall)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   textall = trim(textall)||'0A'x||" Count:"|| put(N, 13.);
30282      output EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   output EMWS1.Clus2_TREE_PLOT;
30283      end;
MPRINT(EM_DIAGRAM):   end;
30284      end;
MPRINT(EM_DIAGRAM):   end;
30285      else do;
MPRINT(EM_DIAGRAM):   else do;
30286      if statname='RASE' then _RASE_=statvalue;
MPRINT(EM_DIAGRAM):   if statname='RASE' then _RASE_=statvalue;
30287      label _RASE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_trase_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label _RASE_ = "Train: Root Average Square Error";
30288      if STATNAME = 'PREDICTION' then do;
MPRINT(EM_DIAGRAM):   if STATNAME = 'PREDICTION' then do;
30289      nodetext= "%sysfunc(sasmsg(sashelp.dmine, rpt_average_vlabel, noquote))"|| put(STATVALUE, 13.4)||'0A'x|| "%sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
MPRINT(EM_DIAGRAM):   nodetext= "Average"|| put(STATVALUE, 13.4)||'0A'x|| "Count:"|| put(N, 13.);
30290      textall = nodetext;
MPRINT(EM_DIAGRAM):   textall = nodetext;
30291      P__SEGMENT_1 = STATVALUE;
MPRINT(EM_DIAGRAM):   P__SEGMENT_1 = STATVALUE;
30292      ;
MPRINT(EM_DIAGRAM):   ;
30293      ;
MPRINT(EM_DIAGRAM):   ;
30294      end;
MPRINT(EM_DIAGRAM):   end;
30295      if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
30296      output EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   output EMWS1.Clus2_TREE_PLOT;
30297      end;
MPRINT(EM_DIAGRAM):   end;
30298      ;
MPRINT(EM_DIAGRAM):   ;
30299      end;
MPRINT(EM_DIAGRAM):   end;
30300      label P__SEGMENT_1 = "%sysfunc(sasmsg(sashelp.dmine, rpt_predictedvar_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label P__SEGMENT_1 = "Predicted Variable";
30301      keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_1;
30302      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 145 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.12 seconds
      

30303      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
30304      set WORK.OUTSTATS_TREE_3CJSY59;
MPRINT(EM_DIAGRAM):   set WORK.OUTSTATS_TREE_3CJSY59;
30305      retain eventlevel;
MPRINT(EM_DIAGRAM):   retain eventlevel;
30306      if STATNAME='PREDICTION' then eventlevel=CATEGORY;
MPRINT(EM_DIAGRAM):   if STATNAME='PREDICTION' then eventlevel=CATEGORY;
30307      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 145 observations read from the data set WORK.OUTSTATS_TREE_3CJSY59.
NOTE: The data set WORK.TEMPCOLOR has 145 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30308      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
30309      set tempcolor;
MPRINT(EM_DIAGRAM):   set tempcolor;
30310      if 'NOMINAL' ne 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if 'NOMINAL' ne 'INTERVAL' then do;
30311      if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
MPRINT(EM_DIAGRAM):   if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
30312      end;
MPRINT(EM_DIAGRAM):   end;
30313      else do;
MPRINT(EM_DIAGRAM):   else do;
30314      if STATNAME="PREDICTION";
MPRINT(EM_DIAGRAM):   if STATNAME="PREDICTION";
30315      end;
MPRINT(EM_DIAGRAM):   end;
30316      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 145 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 29 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

30317      data tempcolor;
MPRINT(EM_DIAGRAM):   data tempcolor;
30318      set tempcolor;
MPRINT(EM_DIAGRAM):   set tempcolor;
30319      length nodecolor 8;
MPRINT(EM_DIAGRAM):   length nodecolor 8;
30320      if 'NOMINAL' ne 'INTERVAL' then do;
MPRINT(EM_DIAGRAM):   if 'NOMINAL' ne 'INTERVAL' then do;
30321      nodecolor = round(100*(STATVALUE), .01);
MPRINT(EM_DIAGRAM):   nodecolor = round(100*(STATVALUE), .01);
30322      end;
MPRINT(EM_DIAGRAM):   end;
30323      else do;
MPRINT(EM_DIAGRAM):   else do;
30324      nodecolor=round(statvalue, .01);
MPRINT(EM_DIAGRAM):   nodecolor=round(statvalue, .01);
30325      end;
MPRINT(EM_DIAGRAM):   end;
30326      keep node nodecolor;
MPRINT(EM_DIAGRAM):   keep node nodecolor;
30327      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 29 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

30328      proc sort data=EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_TREE_PLOT;
30329      by node;
MPRINT(EM_DIAGRAM):   by node;
30330      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.13 seconds
      cpu time            0.06 seconds
      

30331      proc sort data=tempcolor;
MPRINT(EM_DIAGRAM):   proc sort data=tempcolor;
30332      by node;
MPRINT(EM_DIAGRAM):   by node;
30333      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 29 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

30334      data EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_TREE_PLOT;
30335      merge EMWS1.Clus2_TREE_PLOT tempcolor;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_TREE_PLOT tempcolor;
30336      by node;
MPRINT(EM_DIAGRAM):   by node;
30337      length traintotal 8;
MPRINT(EM_DIAGRAM):   length traintotal 8;
30338      retain traintotal;
MPRINT(EM_DIAGRAM):   retain traintotal;
30339      label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
MPRINT(EM_DIAGRAM):   label traintotal = "Train Total";
30340      if node=1 then do;
MPRINT(EM_DIAGRAM):   if node=1 then do;
30341      traintotal = N;
MPRINT(EM_DIAGRAM):   traintotal = N;
30342      end;
MPRINT(EM_DIAGRAM):   end;
30343      if NODE eq . then delete;
MPRINT(EM_DIAGRAM):   if NODE eq . then delete;
30344      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 29 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      

30345      data EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_TREE_PLOT;
30346      set EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_TREE_PLOT;
30347      textall = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodeId_vlabel, noquote, )):"|| put(Node, 13.)||'0A'x||trim(textall);
MPRINT(EM_DIAGRAM):   textall = "Node Id:"|| put(Node, 13.)||'0A'x||trim(textall);
30348      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.09 seconds
      

30349      data tempout;
MPRINT(EM_DIAGRAM):   data tempout;
30350      set WORK.Clus2_outnodes;
MPRINT(EM_DIAGRAM):   set WORK.Clus2_outnodes;
30351      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set WORK.TEMPOUT has 29 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

30352      proc sort data=tempout;
MPRINT(EM_DIAGRAM):   proc sort data=tempout;
30353      by descending P__SEGMENT_1;
MPRINT(EM_DIAGRAM):   by descending P__SEGMENT_1;
30354      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TEMPOUT has 29 observations and 25 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

30355      data tree_temp;
MPRINT(EM_DIAGRAM):   data tree_temp;
30356      set tempout;
MPRINT(EM_DIAGRAM):   set tempout;
30357      if LEAF ne .;
MPRINT(EM_DIAGRAM):   if LEAF ne .;
30358      label index="%sysfunc(sasmsg(sashelp.dmine, rpt_leafindex_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label index= "Leaf Index";
30359      label percevent_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_perc_train_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percevent_train = "Percent Cases";
30360      label perc_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_percevent_train_vlabel  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label perc_train = "Event Percentage";
30361      label tprob="%sysfunc(sasmsg(sashelp.dmine, rpt_prob_vlabel  , NOQUOTE, %nrbquote()))";
MPRINT(EM_DIAGRAM):   label tprob= "Training Percent ";
30362      tprob = round(P__SEGMENT_1, .01);
MPRINT(EM_DIAGRAM):   tprob = round(P__SEGMENT_1, .01);
30363      percevent_train = round ( tprob*100, .01);
MPRINT(EM_DIAGRAM):   percevent_train = round ( tprob*100, .01);
30364      *perc_train =round( ( N / traintotal)*100, .001);
MPRINT(EM_DIAGRAM):   *perc_train =round( ( N / traintotal)*100, .001);
30365      perc_train =round( ( N / traintotal), .01);
MPRINT(EM_DIAGRAM):   perc_train =round( ( N / traintotal), .01);
30366      if missing(perc_train) then perc_train = round( linkwidth*100, .001);
MPRINT(EM_DIAGRAM):   if missing(perc_train) then perc_train = round( linkwidth*100, .001);
30367      index = _n_;
MPRINT(EM_DIAGRAM):   index = _n_;
30368      keep NODE index tprob perc_train percevent_train
30369      ;
MPRINT(EM_DIAGRAM):   keep NODE index tprob perc_train percevent_train ;
30370      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TREE_TEMP has 15 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

30371      proc sort data=tree_temp;
MPRINT(EM_DIAGRAM):   proc sort data=tree_temp;
30372      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
30373      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 15 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set WORK.TREE_TEMP has 15 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

30374      proc sort data=EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_TREE_PLOT;
30375      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
30376      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.04 seconds
      

30377      data EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_TREE_PLOT;
30378      merge EMWS1.Clus2_TREE_PLOT tree_temp;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_TREE_PLOT tree_temp;
30379      by NODE;
MPRINT(EM_DIAGRAM):   by NODE;
30380      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 15 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.07 seconds
      

30381      proc sort data=EMWS1.Clus2_TREE_PLOT;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_TREE_PLOT;
30382      by node index;
MPRINT(EM_DIAGRAM):   by node index;
30383      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 29 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 29 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.11 seconds
      cpu time            0.06 seconds
      

ERROR: Invalid file, \\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS1.
30384      title9 ' ';
MPRINT(EM_DIAGRAM):    title9 ' ';
30385      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_VariableImportance_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Importance";
30386      proc print data=EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
MPRINT(EM_DIAGRAM):   proc print data=EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
30387      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The PROCEDURE PRINT printed page 6.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

30388      title10;
MPRINT(EM_DIAGRAM):   title10;
30389      data WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):    data WORK.M3NGGXKQ;
30390      set WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):   set WORK.M3NGGXKQ;
30391      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
30392      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set WORK.M3NGGXKQ.
NOTE: The data set WORK.M3NGGXKQ has 23 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30393      proc sort data=EMWS1.Clus2_OUTIMPORT out=WORK.Clus2_GRAPHVARS(keep=NAME);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus2_OUTIMPORT out=WORK.Clus2_GRAPHVARS(keep=NAME);
30394      where IMPORTANCE>0;
MPRINT(EM_DIAGRAM):   where IMPORTANCE>0;
30395      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30396      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The data set WORK.CLUS2_GRAPHVARS has 15 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30397      proc sort data = WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):   proc sort data = WORK.M3NGGXKQ;
30398      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30399      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set WORK.M3NGGXKQ.
NOTE: The data set WORK.M3NGGXKQ has 23 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30400      data WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):   data WORK.M3NGGXKQ;
30401      merge WORK.M3NGGXKQ WORK.Clus2_GRAPHVARS(in=_b_);
MPRINT(EM_DIAGRAM):   merge WORK.M3NGGXKQ WORK.Clus2_GRAPHVARS(in=_b_);
30402      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30403      if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
MPRINT(EM_DIAGRAM):   if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
30404      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set WORK.M3NGGXKQ.
NOTE: There were 15 observations read from the data set WORK.CLUS2_GRAPHVARS.
NOTE: The data set WORK.M3NGGXKQ has 15 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

30405      data WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):    data WORK.M3NGGXKQ;
30406      set WORK.M3NGGXKQ end=_eof_ nobs=_nobs_;
MPRINT(EM_DIAGRAM):   set WORK.M3NGGXKQ end=_eof_ nobs=_nobs_;
30407      output;
MPRINT(EM_DIAGRAM):   output;
30408      if _eof_ then do;
MPRINT(EM_DIAGRAM):   if _eof_ then do;
30409      name = '_SEGMENT_';
MPRINT(EM_DIAGRAM):   name = '_SEGMENT_';
30410      ROLE = 'BY';
MPRINT(EM_DIAGRAM):   ROLE = 'BY';
30411      LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
30412      LABEL = 'Segment Variable';
MPRINT(EM_DIAGRAM):   LABEL = 'Segment Variable';
30413      TYPE = 'N';
MPRINT(EM_DIAGRAM):   TYPE = 'N';
30414      FORMAT = '';
MPRINT(EM_DIAGRAM):   FORMAT = '';
30415      INFORMAT = '';
MPRINT(EM_DIAGRAM):   INFORMAT = '';
30416      output;
MPRINT(EM_DIAGRAM):   output;
30417      end;
MPRINT(EM_DIAGRAM):   end;
30418      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 15 observations read from the data set WORK.M3NGGXKQ.
NOTE: The data set WORK.M3NGGXKQ has 16 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

30419      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
30420      * Clus2: STDIZE Variables Macro ;
MPRINT(EM_DIAGRAM):   * Clus2: STDIZE Variables Macro ;
30421      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
30422      %macro stdizevar;
30423          Age BMI
30424      %mend stdizevar;
30425      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
30426      * Clus2: Computing Summary Statistics;
MPRINT(EM_DIAGRAM):   * Clus2: Computing Summary Statistics;
30427      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
30428      proc stdize
30429      data = EMWS1.Clus2_TRAIN
30430      out=_null_
30431      outstat=WORK.Clus2_STAT
30432      add=0 fuzz=1E-14 initial=MAD
30433      vardef=df
30434      method=STD
30435      mult=1
30436      pctlmtd=ORD_STAT pctldef=2
30437      pctlpts=(
30438      0
30439      100
30440      )
30441      ;
MPRINT(EM_DIAGRAM):   proc stdize data = EMWS1.Clus2_TRAIN out=_null_ outstat=WORK.Clus2_STAT add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=( 0 100 ) ;
MPRINT(EM_DIAGRAM):   var
30442      var %stdizevar;
MPRINT(STDIZEVAR):   Age BMI
MPRINT(EM_DIAGRAM):  ;
30443      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: INITIAL= will be ignored.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           1.79 seconds
      cpu time            1.76 seconds
      
NOTE: There were 223088 observations read from the data set EMWS1.SMPL_DATA.
NOTE: There were 223088 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK.CLUS2_STAT has 10 observations and 3 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           1.82 seconds
      cpu time            1.76 seconds
      

MPRINT(EM_DIAGRAM):   quit;
30444      quit;

30445      data WORK.Clus2_MINMAX;
MPRINT(EM_DIAGRAM):    data WORK.Clus2_MINMAX;
30446      set WORK.Clus2_STAT;
MPRINT(EM_DIAGRAM):   set WORK.Clus2_STAT;
30447      where _TYPE_ in('P0','P100');
MPRINT(EM_DIAGRAM):   where _TYPE_ in('P0','P100');
30448      if _TYPE_='P0' then _TYPE_='MIN';
MPRINT(EM_DIAGRAM):   if _TYPE_='P0' then _TYPE_='MIN';
30449      else if _TYPE_='P100' then _TYPE_='MAX';
MPRINT(EM_DIAGRAM):   else if _TYPE_='P100' then _TYPE_='MAX';
30450      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK.CLUS2_STAT.
      WHERE _TYPE_ in ('P0', 'P100');
NOTE: The data set WORK.CLUS2_MINMAX has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

30451      proc transpose data=WORK.Clus2_MINMAX out=WORK.Clus2_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Clus2_MINMAX out=WORK.Clus2_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
30452      id _TYPE_;
MPRINT(EM_DIAGRAM):   id _TYPE_;
30453      run;
MPRINT(EM_DIAGRAM):   run;

WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 2 observations read from the data set WORK.CLUS2_MINMAX.
NOTE: The data set WORK.CLUS2_MINMAX has 2 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      

30454      data WORK.Clus2_UGRID;
MPRINT(EM_DIAGRAM):    data WORK.Clus2_UGRID;
30455      set WORK.Clus2_MINMAX;
MPRINT(EM_DIAGRAM):   set WORK.Clus2_MINMAX;
30456      B1 = MIN + (1-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B1 = MIN + (1-1)*(MAX-MIN)/8;
30457      B2 = MIN + (2-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B2 = MIN + (2-1)*(MAX-MIN)/8;
30458      B3 = MIN + (3-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B3 = MIN + (3-1)*(MAX-MIN)/8;
30459      B4 = MIN + (4-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B4 = MIN + (4-1)*(MAX-MIN)/8;
30460      B5 = MIN + (5-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B5 = MIN + (5-1)*(MAX-MIN)/8;
30461      B6 = MIN + (6-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B6 = MIN + (6-1)*(MAX-MIN)/8;
30462      B7 = MIN + (7-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B7 = MIN + (7-1)*(MAX-MIN)/8;
30463      B8 = MIN + (8-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B8 = MIN + (8-1)*(MAX-MIN)/8;
30464      B9 = MIN + (9-1)*(MAX-MIN)/8;
MPRINT(EM_DIAGRAM):   B9 = MIN + (9-1)*(MAX-MIN)/8;
30465      drop MIN MAX;
MPRINT(EM_DIAGRAM):   drop MIN MAX;
30466      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK.CLUS2_MINMAX.
NOTE: The data set WORK.CLUS2_UGRID has 2 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

30467      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
30468      * Clus2: Creating formats for binning interval variables;
MPRINT(EM_DIAGRAM):   * Clus2: Creating formats for binning interval variables;
30469      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
30470      proc format;
MPRINT(EM_DIAGRAM):   proc format;
30471      value F1_
30472      1-2.5 = "1:2.5"
30473      2.5-4 = "2.5:4"
30474      4-5.5 = "4:5.5"
30475      5.5-7 = "5.5:7"
30476      7-8.5 = "7:8.5"
30477      8.5-10 = "8.5:10"
30478      10-11.5 = "10:11.5"
30479      11.5-13 = "11.5:13"
30480      ;
MPRINT(EM_DIAGRAM):   value F1_ 1-2.5 = "1:2.5" 2.5-4 = "2.5:4" 4-5.5 = "4:5.5" 5.5-7 = "5.5:7" 7-8.5 = "7:8.5" 8.5-10 = "8.5:10" 10-11.5 = "10:11.5" 11.5-13 = "11.5:13" ;
NOTE: Format F1_ has been output.
30481      value F2_
30482      12-16 = "12:16"
30483      16-20 = "16:20"
30484      20-24 = "20:24"
30485      24-28 = "24:28"
30486      28-32 = "28:32"
30487      32-36 = "32:36"
30488      36-40 = "36:40"
30489      40-44 = "40:44"
30490      ;
MPRINT(EM_DIAGRAM):   value F2_ 12-16 = "12:16" 16-20 = "16:20" 20-24 = "20:24" 24-28 = "24:28" 28-32 = "28:32" 32-36 = "32:36" 36-40 = "36:40" 40-44 = "40:44" ;
NOTE: Format F2_ has been output.
MPRINT(EM_DIAGRAM):   run;
30491      run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

30492      ods listing close;
MPRINT(EM_DIAGRAM):    ods listing close;
30493      ods output crosstabfreqs=WORK.TEMPFREQ;
MPRINT(EM_DIAGRAM):   ods output crosstabfreqs=WORK.TEMPFREQ;
30494      proc freq data = EMWS1.Clus2_TRAIN order=formatted addnames;
MPRINT(EM_DIAGRAM):   proc freq data = EMWS1.Clus2_TRAIN order=formatted addnames;
30495      table Age * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table Age * _SEGMENT_ / missing;
30496      table AnyHealthcare * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table AnyHealthcare * _SEGMENT_ / missing;
30497      table BMI * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table BMI * _SEGMENT_ / missing;
30498      table CholCheck * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table CholCheck * _SEGMENT_ / missing;
30499      table DiffWalk * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table DiffWalk * _SEGMENT_ / missing;
30500      table Education * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table Education * _SEGMENT_ / missing;
30501      table GenHlth * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table GenHlth * _SEGMENT_ / missing;
30502      table HeartDiseaseorAttack * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table HeartDiseaseorAttack * _SEGMENT_ / missing;
30503      table HighBP * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table HighBP * _SEGMENT_ / missing;
30504      table HighChol * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table HighChol * _SEGMENT_ / missing;
30505      table HvyAlcoholConsump * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table HvyAlcoholConsump * _SEGMENT_ / missing;
30506      table Income * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table Income * _SEGMENT_ / missing;
30507      table MentHlth * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table MentHlth * _SEGMENT_ / missing;
30508      table NoDocbcCost * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table NoDocbcCost * _SEGMENT_ / missing;
30509      table PhysHlth * _SEGMENT_ / missing;
MPRINT(EM_DIAGRAM):   table PhysHlth * _SEGMENT_ / missing;
30510      format AGE F1_.;
MPRINT(EM_DIAGRAM):   format AGE F1_.;
30511      format BMI F2_.;
MPRINT(EM_DIAGRAM):   format BMI F2_.;
30512      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           2.49 seconds
      cpu time            2.23 seconds
      
NOTE: There were 223088 observations read from the data set EMWS1.SMPL_DATA.
NOTE: The data set WORK.TEMPFREQ has 508 observations and 26 variables.
NOTE: There were 223088 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           2.59 seconds
      cpu time            2.32 seconds
      

MPRINT(EM_DIAGRAM):   quit;
30513      quit;
30514      ods listing;
MPRINT(EM_DIAGRAM):   ods listing;
30515      data EMWS1.Clus2_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
MPRINT(EM_DIAGRAM):    data EMWS1.Clus2_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
30516      label _VARIABLE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" _SEGMENT_ = "Segment Variable" Type = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,         NOQUOTE))" _X_ =
30517         "%sysfunc(sasmsg(sashelp.dmine, rpt_numValue_vlabel, NOQUOTE))" _XLABEL_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_fmtValue_vlabel ,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT =
30518         "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _VARIABLE_ = "Variable" _SEGMENT_ = "Segment Variable" Type = "Type" _X_ = "Numeric Value" _XLABEL_ = "Formatted Value" COUNT = "Frequency Count" PERCENT = "Percent";
30519      dsid = open("WORK.TEMPFREQ");
MPRINT(EM_DIAGRAM):   dsid = open("WORK.TEMPFREQ");
30520      varnum = varnum(dsid, 'ROWVARIABLE');
MPRINT(EM_DIAGRAM):   varnum = varnum(dsid, 'ROWVARIABLE');
30521      freqnum = varnum(dsid, 'FREQUENCY');
MPRINT(EM_DIAGRAM):   freqnum = varnum(dsid, 'FREQUENCY');
30522      pvarnum = varnum(dsid, 'PERCENT');
MPRINT(EM_DIAGRAM):   pvarnum = varnum(dsid, 'PERCENT');
30523      typenum = varnum(dsid, '_TYPE_');
MPRINT(EM_DIAGRAM):   typenum = varnum(dsid, '_TYPE_');
30524      bynum = varnum(dsid, "_SEGMENT_");
MPRINT(EM_DIAGRAM):   bynum = varnum(dsid, "_SEGMENT_");
30525      length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
MPRINT(EM_DIAGRAM):   length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
30526      do while(^fetch(dsid));
MPRINT(EM_DIAGRAM):   do while(^fetch(dsid));
30527      count = getvarn(dsid, freqnum);
MPRINT(EM_DIAGRAM):   count = getvarn(dsid, freqnum);
30528      percent = getvarn(dsid, pvarnum);
MPRINT(EM_DIAGRAM):   percent = getvarn(dsid, pvarnum);
30529      _VARIABLE_ = strip(getvarc(dsid, varnum));
MPRINT(EM_DIAGRAM):   _VARIABLE_ = strip(getvarc(dsid, varnum));
30530      varblnum = varnum(dsid, _VARIABLE_);
MPRINT(EM_DIAGRAM):   varblnum = varnum(dsid, _VARIABLE_);
30531      _SEGMENT_ = getvarn(dsid, bynum);
MPRINT(EM_DIAGRAM):   _SEGMENT_ = getvarn(dsid, bynum);
30532      type = vartype(dsid, varblnum);
MPRINT(EM_DIAGRAM):   type = vartype(dsid, varblnum);
30533      varformat = varfmt(dsid, varblnum);
MPRINT(EM_DIAGRAM):   varformat = varfmt(dsid, varblnum);
30534      if varformat eq '' then varformat = 'best12.';
MPRINT(EM_DIAGRAM):   if varformat eq '' then varformat = 'best12.';
30535      _X_=.;
MPRINT(EM_DIAGRAM):   _X_=.;
30536      if type = 'N' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
30537      _X_ = getvarn(dsid, varblnum);
MPRINT(EM_DIAGRAM):   _X_ = getvarn(dsid, varblnum);
30538      _XLABEL_ = left(putn(_X_, varformat));
MPRINT(EM_DIAGRAM):   _XLABEL_ = left(putn(_X_, varformat));
30539      end;
MPRINT(EM_DIAGRAM):   end;
30540      else _XLABEL_ = getvarc(dsid, varblnum);
MPRINT(EM_DIAGRAM):   else _XLABEL_ = getvarc(dsid, varblnum);
30541      if getvarc(dsid, typenum) = '11' then output;
MPRINT(EM_DIAGRAM):   if getvarc(dsid, typenum) = '11' then output;
30542      end;
MPRINT(EM_DIAGRAM):   end;
30543      dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
30544      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

30545      proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
30546      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
30547      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.06 seconds
      

30548      proc means data=EMWS1.Clus2_PROFILE noprint missing NWAY;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Clus2_PROFILE noprint missing NWAY;
30549      class _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   class _VARIABLE_ _SEGMENT_;
30550      var COUNT;
MPRINT(EM_DIAGRAM):   var COUNT;
30551      output out=WORK.Clus2_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
MPRINT(EM_DIAGRAM):   output out=WORK.Clus2_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
30552      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set WORK.CLUS2_STATCOUNT has 45 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      

30553      proc sort data=WORK.Clus2_STATCOUNT NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Clus2_STATCOUNT NOTHREADS;
30554      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
30555      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 45 observations read from the data set WORK.CLUS2_STATCOUNT.
NOTE: The data set WORK.CLUS2_STATCOUNT has 45 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

30556      data EMWS1.Clus2_PROFILE(drop=SUM);
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_PROFILE(drop=SUM);
30557      label BYPERCENT= "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel, NOQUOTE, _SEGMENT_))";
MPRINT(EM_DIAGRAM):   label BYPERCENT= "Percent";
30558      merge EMWS1.Clus2_PROFILE WORK.Clus2_STATCOUNT;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_PROFILE WORK.Clus2_STATCOUNT;
30559      by _VARIABLE_ _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_ _SEGMENT_;
30560      if SUM ne . then BYPERCENT = 100*COUNT/SUM;
MPRINT(EM_DIAGRAM):   if SUM ne . then BYPERCENT = 100*COUNT/SUM;
30561      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: There were 45 observations read from the data set WORK.CLUS2_STATCOUNT.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.04 seconds
      

30562      proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
30563      by _VARIABLE_;
MPRINT(EM_DIAGRAM):   by _VARIABLE_;
30564      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      

30565      proc sort data=WORK.M3NGGXKQ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M3NGGXKQ;
30566      by Name;
MPRINT(EM_DIAGRAM):   by Name;
30567      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 16 observations read from the data set WORK.M3NGGXKQ.
NOTE: The data set WORK.M3NGGXKQ has 16 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30568      data EMWS1.Clus2_PROFILE;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_PROFILE;
30569      merge EMWS1.Clus2_PROFILE(in=_a) WORK.M3NGGXKQ(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_PROFILE(in=_a) WORK.M3NGGXKQ(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
30570      by _Variable_;
MPRINT(EM_DIAGRAM):   by _Variable_;
30571      label Role = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel ,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Role = "Role";
30572      label Label = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel , NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Label = "Label";
30573      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
30574      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable Label is uninitialized.
WARNING: Multiple lengths were specified for the BY variable _VARIABLE_ by input data sets. This might cause unexpected results.
NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: There were 16 observations read from the data set WORK.M3NGGXKQ.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.06 seconds
      

30575      proc sort data=EMWS1.Clus2_PROFILE;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS1.Clus2_PROFILE;
30576      by _SEGMENT_ _VARIABLE_ _X_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_ _VARIABLE_ _X_;
30577      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.13 seconds
      cpu time            0.07 seconds
      

30578      data EMWS1.Clus2_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
30579      set EMWS1.Clus2_PROFILE;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_PROFILE;
30580      retain orderedValue 0;
MPRINT(EM_DIAGRAM):   retain orderedValue 0;
30581      label OrderedValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_OrderedValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label OrderedValue = "Ordered Values";
30582      by _SEGMENT_ _VARIABLE_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_ _VARIABLE_;
30583      if first._variable_ then orderedValue=1;
MPRINT(EM_DIAGRAM):   if first._variable_ then orderedValue=1;
30584      else orderedValue+1;
MPRINT(EM_DIAGRAM):   else orderedValue+1;
30585      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 336 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 336 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.09 seconds
      

30586      data WORK.Clus2_temp;
MPRINT(EM_DIAGRAM):    data WORK.Clus2_temp;
30587      set EMWS1.Clus2_OUTMEAN;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_OUTMEAN;
30588      _idvar_=left(put(_SEGMENT_,4.));
MPRINT(EM_DIAGRAM):   _idvar_=left(put(_SEGMENT_,4.));
30589      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS1.CLUS2_OUTMEAN.
NOTE: The data set WORK.CLUS2_TEMP has 3 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30590      proc distance data=WORK.Clus2_temp out=EMWS1.Clus2_DISTANCE method=l(2) shape=square;
MPRINT(EM_DIAGRAM):   proc distance data=WORK.Clus2_temp out=EMWS1.Clus2_DISTANCE method=l(2) shape=square;
30591      id _idvar_;
MPRINT(EM_DIAGRAM):   id _idvar_;
30592      var interval(%dmvqvars);
MPRINT(EM_DIAGRAM):   var interval(
MPRINT(DMVQVARS):  Age BMI AnyHealthcare0 AnyHealthcare1 CholCheck0 CholCheck1 DiffWalk0 DiffWalk1 Fruits0 Fruits1 HeartDiseaseorAttack0 HeartDiseaseorAttack1 HighBP0 HighBP1 HighChol0 HighChol1 HvyAlcoholConsump0 HvyAlcoholConsump1 NoDocbcCost0 
NoDocbcCost1 PhysActivity0 PhysActivity1 Sex0 Sex1 Smoker0 Smoker1 Stroke0 Stroke1 Veggies0 Veggies1 T_Education T_GenHlth T_Income T_MentHlth T_PhysHlth
MPRINT(EM_DIAGRAM):  );
30593      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set EMWS1.CLUS2_DISTANCE has 3 observations and 4 variables.
NOTE: PROCEDURE DISTANCE used (Total process time):
      real time           0.17 seconds
      cpu time            0.10 seconds
      

30594      proc datasets lib=EMWS1 nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=EMWS1 nolist;
30595      modify Clus2_DISTANCE;
MPRINT(EM_DIAGRAM):   modify Clus2_DISTANCE;
30596      rename _idvar_=_SEGMENT_;
MPRINT(EM_DIAGRAM):   rename _idvar_=_SEGMENT_;
NOTE: Renaming variable _idvar_ to _SEGMENT_.
MPRINT(EM_DIAGRAM):   run;
30597      run;

NOTE: MODIFY was successful for EMWS1.CLUS2_DISTANCE.DATA.
30598      quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.39 seconds
      cpu time            0.17 seconds
      

30599      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
30600      * Clus2: Creating data set for Input Mean report;
MPRINT(EM_DIAGRAM):   * Clus2: Creating data set for Input Mean report;
30601      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
30602      data temp(drop=_type_ over_all);
MPRINT(EM_DIAGRAM):   data temp(drop=_type_ over_all);
30603      set EMWS1.Clus2_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_OUTSTAT;
30604      where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
MPRINT(EM_DIAGRAM):   where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
30605      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set EMWS1.CLUS2_OUTSTAT.
      WHERE _type_ in ('CLUS_MEAN', 'DMDB_MEAN');
NOTE: The data set WORK.TEMP has 4 observations and 36 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30606      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
30607      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
30608      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 4 observations and 36 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

30609      proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
MPRINT(EM_DIAGRAM):   proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
30610      var Age--T_PhysHlth;
MPRINT(EM_DIAGRAM):   var Age--T_PhysHlth;
30611      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.STDTEMP has 4 observations and 36 variables.
NOTE: The data set WORK.STAT has 10 observations and 36 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30612      proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
MPRINT(EM_DIAGRAM):   proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
30613      where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
MPRINT(EM_DIAGRAM):   where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
30614      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK.STAT.
      WHERE _type_ in ('LOCATION', 'P0', 'P100', 'SCALE');
NOTE: The data set WORK.TSTAT has 35 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30615      data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
MPRINT(EM_DIAGRAM):   data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
30616      set tstat;
MPRINT(EM_DIAGRAM):   set tstat;
30617      if std ^in (0, .) then do;
MPRINT(EM_DIAGRAM):   if std ^in (0, .) then do;
30618      stdmin = abs((min-mean)/std);
MPRINT(EM_DIAGRAM):   stdmin = abs((min-mean)/std);
30619      stdmax = abs((max-mean)/std);
MPRINT(EM_DIAGRAM):   stdmax = abs((max-mean)/std);
30620      end;
MPRINT(EM_DIAGRAM):   end;
30621      if mean ^in(0, .) then cv = std/mean;
MPRINT(EM_DIAGRAM):   if mean ^in(0, .) then cv = std/mean;
30622      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 35 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30623      proc sort data=tstat;
MPRINT(EM_DIAGRAM):   proc sort data=tstat;
30624      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30625      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 35 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30626      proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
MPRINT(EM_DIAGRAM):   proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
30627      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
30628      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK.STDTEMP.
NOTE: The data set WORK.TSTDTEMP has 140 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

30629      proc sort data=tstdtemp;
MPRINT(EM_DIAGRAM):   proc sort data=tstdtemp;
30630      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30631      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 140 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set WORK.TSTDTEMP has 140 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30632      data tstdtemp;
MPRINT(EM_DIAGRAM):   data tstdtemp;
30633      merge tstdtemp tstat;
MPRINT(EM_DIAGRAM):   merge tstdtemp tstat;
30634      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30635      STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
MPRINT(EM_DIAGRAM):   STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
30636      drop stdmin stdmax mean;
MPRINT(EM_DIAGRAM):   drop stdmin stdmax mean;
30637      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 140 observations read from the data set WORK.TSTDTEMP.
NOTE: There were 35 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTDTEMP has 140 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

30638      proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
MPRINT(EM_DIAGRAM):   proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
30639      var Age--T_PhysHlth;
MPRINT(EM_DIAGRAM):   var Age--T_PhysHlth;
30640      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
30641      where _type_ = 'VARIABLE';
MPRINT(EM_DIAGRAM):   where _type_ = 'VARIABLE';
30642      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS2_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 35 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

30643      proc sort data=tempVar;
MPRINT(EM_DIAGRAM):   proc sort data=tempVar;
30644      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30645      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 35 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

30646      data EMWS1.Clus2_INPUTMEAN(rename=(NAME=VARIABLE));
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_INPUTMEAN(rename=(NAME=VARIABLE));
30647      Length _SEGMENT_CHAR_ $7;
MPRINT(EM_DIAGRAM):   Length _SEGMENT_CHAR_ $7;
30648      label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))" _SEGMENT_CHAR_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentId_vlabel,    NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))"
30648    !  INPUT =
30649         "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,        NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel,        NOQUOTE))" CV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cv_vlabel,           NOQUOTE))" STDMEAN =
30650         "%sysfunc(sasmsg(sashelp.dmine, rpt_normmean_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _SEGMENT_ = "Segment Name" _SEGMENT_CHAR_ = "Segment Id" NAME = "Variable" INPUT = "Input" LABEL = "Label" CV = "Coefficient of Variation" STDMEAN = "Normalized Mean";
30651      merge tempvar tstdtemp;
MPRINT(EM_DIAGRAM):   merge tempvar tstdtemp;
30652      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
30653      if LABEL='' then LABEL=NAME;
MPRINT(EM_DIAGRAM):   if LABEL='' then LABEL=NAME;
30654      _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
MPRINT(EM_DIAGRAM):   _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
30655      if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
MPRINT(EM_DIAGRAM):   if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
30656      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.TEMPVAR.
NOTE: There were 140 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set EMWS1.CLUS2_INPUTMEAN has 140 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.07 seconds
      

30657      proc sort data=EMWS1.Clus2_INPUTMEAN;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Clus2_INPUTMEAN;
30658      by descending cv;
MPRINT(EM_DIAGRAM):   by descending cv;
30659      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 140 observations read from the data set EMWS1.CLUS2_INPUTMEAN.
NOTE: The data set EMWS1.CLUS2_INPUTMEAN has 140 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.16 seconds
      cpu time            0.07 seconds
      

30660      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
30661      * Clus2: Determining the important variables;
MPRINT(EM_DIAGRAM):   * Clus2: Determining the important variables;
30662      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

30663      %let _nobs = 0;
30664      data keepvars(rename=(NAME=INPUT));
MPRINT(EM_DIAGRAM):    data keepvars(rename=(NAME=INPUT));
30665      set EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
30666      if eof then call symput('_nobs', strip(put(_N_, best.)));
MPRINT(EM_DIAGRAM):   if eof then call symput('_nobs', strip(put(_N_, best.)));
30667      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 6 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0.5;
NOTE: The data set WORK.KEEPVARS has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

30668      proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME VARIABLE=INPUT));
30669      var Age--T_PhysHlth;
MPRINT(EM_DIAGRAM):   var Age--T_PhysHlth;
30670      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
30671      where _type_ = 'VARIABLE';
MPRINT(EM_DIAGRAM):   where _type_ = 'VARIABLE';
30672      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS2_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 35 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

30673      proc sort data=keepvars;
MPRINT(EM_DIAGRAM):   proc sort data=keepvars;
30674      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
30675      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 6 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.KEEPVARS has 6 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

30676      proc sort data=tempvar;
MPRINT(EM_DIAGRAM):   proc sort data=tempvar;
30677      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
30678      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 35 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

30679      data vars;
MPRINT(EM_DIAGRAM):   data vars;
30680      merge tempvar keepvars(in=b);
MPRINT(EM_DIAGRAM):   merge tempvar keepvars(in=b);
30681      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
30682      if b then output;
MPRINT(EM_DIAGRAM):   if b then output;
30683      run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might cause unexpected results.
NOTE: There were 35 observations read from the data set WORK.TEMPVAR.
NOTE: There were 6 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.VARS has 9 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

30684      proc sort data=vars;
MPRINT(EM_DIAGRAM):   proc sort data=vars;
30685      by descending importance;
MPRINT(EM_DIAGRAM):   by descending importance;
30686      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 9 observations read from the data set WORK.VARS.
NOTE: The data set WORK.VARS has 9 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

30687      data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
30688      set vars;
MPRINT(EM_DIAGRAM):   set vars;
30689      if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
MPRINT(EM_DIAGRAM):   if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
30690      else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
MPRINT(EM_DIAGRAM):   else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
30691      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 9 observations read from the data set WORK.VARS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * mergeVarMeansandClusLabel;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
30692      *------------------------------------------------------------*;
30693      * mergeVarMeansandClusLabel;
30694      *------------------------------------------------------------*;
30695      data temp(keep=_SEGMENT_ &CLUS_PROFVARS);
MPRINT(EM_DIAGRAM):   data temp(keep=_SEGMENT_ BMI T_GenHlth T_PhysHlth DiffWalk0 DiffWalk1 AnyHealthcare0 AnyHealthcare1 CholCheck0 CholCheck1);
30696      length _SEGMENT_ &CLUS_PROFVARS 8;
MPRINT(EM_DIAGRAM):   length _SEGMENT_ BMI T_GenHlth T_PhysHlth DiffWalk0 DiffWalk1 AnyHealthcare0 AnyHealthcare1 CholCheck0 CholCheck1 8;
30697      set EMWS1.Clus2_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Clus2_OUTSTAT;
30698      where _type_ ='CLUS_MEAN';
MPRINT(EM_DIAGRAM):   where _type_ ='CLUS_MEAN';
30699      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS1.CLUS2_OUTSTAT.
      WHERE _type_='CLUS_MEAN';
NOTE: The data set WORK.TEMP has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

30700      proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
30701      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
30702      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

30703      data EMWS1.Clus2_LABEL;
MPRINT(EM_DIAGRAM):   data EMWS1.Clus2_LABEL;
30704      merge EMWS1.Clus2_LABEL(keep=_SEGMENT_ LABEL) temp;
MPRINT(EM_DIAGRAM):   merge EMWS1.Clus2_LABEL(keep=_SEGMENT_ LABEL) temp;
30705      by _SEGMENT_;
MPRINT(EM_DIAGRAM):   by _SEGMENT_;
30706      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS1.CLUS2_LABEL.
NOTE: There were 3 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.CLUS2_LABEL has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
