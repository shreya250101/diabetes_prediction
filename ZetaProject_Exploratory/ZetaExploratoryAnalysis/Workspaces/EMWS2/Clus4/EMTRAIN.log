MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "March 03, 2024" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "20:05:47" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                March 03, 2024
Time:                20:05:47
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O1GJ9289 "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O1GJ9289 new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "March 03, 2024" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "20:05:47" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                bkris2";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70080107";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_10PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.04.01M7P080520";
MPRINT(EM_DIAGRAM):   put "EM Version:          15.2";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "March 03, 2024" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "20:05:48" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                bkris2";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ '\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
27987      proc freq data=EMWS2.Clus4_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS2.Clus4_VariableSet noprint;
27988      table ROLE*LEVEL/out=WORK.Clus4META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Clus4META;
27989      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set EMWS2.CLUS4_VARIABLESET.
NOTE: The data set WORK.CLUS4META has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.13 seconds
      cpu time            0.10 seconds
      

27990      proc print data=WORK.Clus4META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Clus4META label noobs;
27991      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
27992      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
27993      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
27994      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
27995      run;

NOTE: There were 6 observations read from the data set WORK.CLUS4META.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

27996      title10;
MPRINT(EM_DIAGRAM):   title10;
27997      data WORK.M0POIE92;
MPRINT(EM_DIAGRAM):    data WORK.M0POIE92;
27998      set WORK.M0POIE92;
MPRINT(EM_DIAGRAM):   set WORK.M0POIE92;
27999      if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
28000      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 15 observations read from the data set WORK.M0POIE92.
NOTE: The data set WORK.M0POIE92 has 15 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Clus4: Preparing metadata for training;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   data WORK.M0POIE92;
MPRINT(EM_DIAGRAM):   set WORK.M0POIE92;
MPRINT(EM_DIAGRAM):   if role eq 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   run;
28009      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28010      * Clus4: Preliminary Clustering;
MPRINT(EM_DIAGRAM):   * Clus4: Preliminary Clustering;
28011      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28012      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28013      * Clus4: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * Clus4: DMDBClass Macro ;
28014      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28015      %macro DMDBClass;
28016          AnyHealthcare(ASC) CholCheck(ASC) DiffWalk(ASC) Education(ASC) GenHlth(ASC)
28017         HeartDiseaseorAttack(ASC) HighBP(ASC) HighChol(ASC) HvyAlcoholConsump(ASC)
28018         Income(ASC) MentHlth(ASC) NoDocbcCost(ASC) PhysHlth(ASC)
28019      %mend DMDBClass;
28020      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28021      * Clus4: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Clus4: DMDBVar Macro ;
28022      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28023      %macro DMDBVar;
28024          Age BMI
28025      %mend DMDBVar;
28026      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28027      * Clus4: Create DMDB;
MPRINT(EM_DIAGRAM):   * Clus4: Create DMDB;
28028      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28029      proc dmdb batch data=EMWS2.Smpl_DATA
28030      dmdbcat=WORK.Clus4_DMDB
28031      maxlevel = 513
28032      out=WORK.Clus4_DMDB
28033      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS2.Smpl_DATA dmdbcat=WORK.Clus4_DMDB maxlevel = 513 out=WORK.Clus4_DMDB ;
MPRINT(EM_DIAGRAM):   class
28034      class %DMDBClass;
MPRINT(DMDBCLASS):   AnyHealthcare(ASC) CholCheck(ASC) DiffWalk(ASC) Education(ASC) GenHlth(ASC) HeartDiseaseorAttack(ASC) HighBP(ASC) HighChol(ASC) HvyAlcoholConsump(ASC) Income(ASC) MentHlth(ASC) NoDocbcCost(ASC) PhysHlth(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
28035      var %DMDBVar;
MPRINT(DMDBVAR):   Age BMI
MPRINT(EM_DIAGRAM):  ;
28036      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 100000   Memory used = 511K.
NOTE: Records processed = 200000   Memory used = 511K.
NOTE: Records processed = 223088   Memory used = 511K.
NOTE: There were 223088 observations read from the data set EMWS2.SMPL_DATA.
NOTE: The data set WORK.CLUS4_DMDB has 223088 observations and 15 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.73 seconds
      cpu time            0.57 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
28037      quit;
28038      *--- end code ---*;

28039      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
28040      * Clus4: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus4: Interval Inputs Macro ;
28041      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28042      %macro DMVQINTERVAL;
28043          Age BMI
28044      %mend DMVQINTERVAL;
28045      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28046      * Clus4: Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus4: Nominal Inputs Macro ;
28047      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28048      %macro DMVQNOMINAL;
28049          AnyHealthcare CholCheck DiffWalk HeartDiseaseorAttack HighBP HighChol
28050         HvyAlcoholConsump NoDocbcCost
28051      %mend DMVQNOMINAL;
28052      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28053      * Clus4: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Clus4: Ordinal Inputs Macro ;
28054      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28055      %macro DMVQORDINAL;
28056          Education GenHlth Income MentHlth PhysHlth
28057      %mend DMVQORDINAL;
28058      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28059      * Clus4: Run DMVQ procedure;
MPRINT(EM_DIAGRAM):   * Clus4: Run DMVQ procedure;
28060      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28061      title;
MPRINT(EM_DIAGRAM):   title;
28062      options nodate;
MPRINT(EM_DIAGRAM):   options nodate;
28063      proc dmvq data=WORK.Clus4_DMDB dmdbcat=WORK.Clus4_DMDB std=STD nominal=GLM ordinal=RANK
28064      ;
MPRINT(EM_DIAGRAM):   proc dmvq data=WORK.Clus4_DMDB dmdbcat=WORK.Clus4_DMDB std=STD nominal=GLM ordinal=RANK ;
NOTE: The training set WORK.CLUS4_DMDB.DATA has 15 variable(s).
NOTE: The DMVQ statement has finished with return code=0 and status=begin.
MPRINT(EM_DIAGRAM):   input
28065      input %DMVQINTERVAL / level=interval;
MPRINT(DMVQINTERVAL):   Age BMI
MPRINT(EM_DIAGRAM):   / level=interval;
NOTE: 2 input variable(s) defined for ID=I1.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
MPRINT(EM_DIAGRAM):   input
28066      input %DMVQNOMINAL / level=nominal;
MPRINT(DMVQNOMINAL):   AnyHealthcare CholCheck DiffWalk HeartDiseaseorAttack HighBP HighChol HvyAlcoholConsump NoDocbcCost
MPRINT(EM_DIAGRAM):   / level=nominal;
NOTE: 8 input variable(s) defined for ID=I2.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
MPRINT(EM_DIAGRAM):   input
28067      input %DMVQORDINAL / level=ordinal;
MPRINT(DMVQORDINAL):   Education GenHlth Income MentHlth PhysHlth
MPRINT(EM_DIAGRAM):   / level=ordinal;
NOTE: 5 input variable(s) defined for ID=I3.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
28068      VQ maxc = 50 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
MPRINT(EM_DIAGRAM):   VQ maxc = 50 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
NOTE: A maximum of 50 clusters have been requested.
NOTE: The VQ statement has finished with return code=0 and status=architecture.
28069      MAKE outvar=EMWS2.Clus4_OUTVAR;
MPRINT(EM_DIAGRAM):   MAKE outvar=EMWS2.Clus4_OUTVAR;

NOTE: 15 input variable(s).
NOTE: Number of cases=223088
NOTE: Sum of frequencies=223088
NOTE: Sum of weights=223088
NOTE: VARDEF=DF      
NOTE: Maximum number of categories=31
NOTE: The total number of variables is 15 with dimensionality 23.
NOTE: 15 variables will be used for clustering.
NOTE: Open output data set EMWS2.CLUS4_OUTVAR.DATA with 24 variables.
NOTE: The data set EMWS2.CLUS4_OUTVAR has 4 observations and 24 variables.
NOTE: The MAKE statement has finished with return code=0 and status=made.
28070      INITIAL radius=0
28071      ;
MPRINT(EM_DIAGRAM):   INITIAL radius=0 ;
NOTE: 50 seeds were selected from data set WORK.CLUS4_DMDB.DATA using the SEPARATE algorithm.
NOTE: The INITIAL statement has finished with return code=0 and status=initialized.
28072      TRAIN tech=FORGY
28073      ;
MPRINT(EM_DIAGRAM):   TRAIN tech=FORGY ;
WARNING: The limit of 10 iterations was reached without convergence.
NOTE: The TRAIN statement has finished with return code=0 and status=trained.
28074      SAVE outstat=WORK.Clus4_OUTSTAT outmean=EMWS2.Clus4_OUTMEAN;
MPRINT(EM_DIAGRAM):   SAVE outstat=WORK.Clus4_OUTSTAT outmean=EMWS2.Clus4_OUTMEAN;
NOTE: The data set WORK.CLUS4_OUTSTAT has 316 observations and 26 variables.
NOTE: The data set EMWS2.CLUS4_OUTMEAN has 50 observations and 32 variables.
NOTE: The SAVE statement has finished with return code=0 and status=statistics.
28075      code file="\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas"
28076      group=Clus4
28077      ;
MPRINT(EM_DIAGRAM):   code file="\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas" group=Clus4 ;
NOTE: External file \\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas opened.
NOTE: The CODE statement has finished with return code=0 and status=statistics.
28078      run;
MPRINT(EM_DIAGRAM):   run;

28079      quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: There were 223088 observations read from the data set WORK.CLUS4_DMDB.
NOTE: PROCEDURE DMVQ used (Total process time):
      real time           6.45 seconds
      cpu time            5.62 seconds
      

28080      proc transpose data=EMWS2.Clus4_OUTVAR out=WORK.Clus4_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS2.Clus4_OUTVAR out=WORK.Clus4_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
28081      var Age--T_PhysHlth;
MPRINT(EM_DIAGRAM):   var Age--T_PhysHlth;
28082      where _TYPE_ in('TYPE' 'VARIABLE');
MPRINT(EM_DIAGRAM):   where _TYPE_ in('TYPE' 'VARIABLE');
28083      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set EMWS2.CLUS4_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS4_OUTVAR has 23 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

28084      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
28085      * Clus4: DMVQ Variables;
MPRINT(EM_DIAGRAM):   * Clus4: DMVQ Variables;
28086      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
28087      %macro dmvqvars;
28088          Age BMI AnyHealthcare0 AnyHealthcare1 CholCheck0 CholCheck1 DiffWalk0
28089         DiffWalk1 HeartDiseaseorAttack0 HeartDiseaseorAttack1 HighBP0 HighBP1 HighChol0
28090         HighChol1 HvyAlcoholConsump0 HvyAlcoholConsump1 NoDocbcCost0 NoDocbcCost1
28091         T_Education T_GenHlth T_Income T_MentHlth T_PhysHlth
28092      %mend ;
28093      
28094      

28095      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28096      * Clus4: Determining the number of clusters;
MPRINT(EM_DIAGRAM):   * Clus4: Determining the number of clusters;
28097      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28098      proc cluster data=EMWS2.Clus4_OUTMEAN method=WARD pseudo outtree=EMWS2.Clus4_CLUSSEED
WARNING: The SAS/STAT product with which CLUSTER is associated will be expiring soon, and is currently in warning mode to indicate this upcoming expiration. Please run PROC SETINIT to obtain more information on your warning period.
28099      ;
MPRINT(EM_DIAGRAM):   proc cluster data=EMWS2.Clus4_OUTMEAN method=WARD pseudo outtree=EMWS2.Clus4_CLUSSEED ;
MPRINT(EM_DIAGRAM):   var
28100      var %dmvqvars;
MPRINT(DMVQVARS):   Age BMI AnyHealthcare0 AnyHealthcare1 CholCheck0 CholCheck1 DiffWalk0 DiffWalk1 HeartDiseaseorAttack0 HeartDiseaseorAttack1 HighBP0 HighBP1 HighChol0 HighChol1 HvyAlcoholConsump0 HvyAlcoholConsump1 NoDocbcCost0 NoDocbcCost1 T_Education 
T_GenHlth T_Income T_MentHlth T_PhysHlth
MPRINT(EM_DIAGRAM):  ;
28101      copy _SEGMENT_;
MPRINT(EM_DIAGRAM):   copy _SEGMENT_;
28102      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set EMWS2.CLUS4_CLUSSEED has 99 observations and 40 variables.
NOTE: The PROCEDURE CLUSTER printed page 4.
NOTE: PROCEDURE CLUSTER used (Total process time):
      real time           0.16 seconds
      cpu time            0.12 seconds
      

MPRINT(EM_DIAGRAM):   quit;
28103      quit;
28104      proc sort data =EMWS2.Clus4_CLUSSEED out=WORK._SEED_;
MPRINT(EM_DIAGRAM):   proc sort data =EMWS2.Clus4_CLUSSEED out=WORK._SEED_;
28105      by _ncl_;
MPRINT(EM_DIAGRAM):   by _ncl_;
28106      where (_ccc_ > -99999.0);
MPRINT(EM_DIAGRAM):   where (_ccc_ > -99999.0);
28107      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 49 observations read from the data set EMWS2.CLUS4_CLUSSEED.
      WHERE _ccc_>-99999;
NOTE: The data set WORK._SEED_ has 49 observations and 40 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

28108      data WORK._SEED2_;
MPRINT(EM_DIAGRAM):   data WORK._SEED2_;
28109      retain oJump occc oncl;
MPRINT(EM_DIAGRAM):   retain oJump occc oncl;
28110      set WORK._SEED_;
MPRINT(EM_DIAGRAM):   set WORK._SEED_;
28111      _lccc_=lag(_ccc_);
MPRINT(EM_DIAGRAM):   _lccc_=lag(_ccc_);
28112      if _lccc_ > . then jump = _ccc_ - _lccc_;
MPRINT(EM_DIAGRAM):   if _lccc_ > . then jump = _ccc_ - _lccc_;
28113      if jump<0 and ojump>0 then do;
MPRINT(EM_DIAGRAM):   if jump<0 and ojump>0 then do;
28114      * Have a local Max;
MPRINT(EM_DIAGRAM):   * Have a local Max;
28115      numclus = oncl;
MPRINT(EM_DIAGRAM):   numclus = oncl;
28116      cccvalue = occc;
MPRINT(EM_DIAGRAM):   cccvalue = occc;
28117      output;
MPRINT(EM_DIAGRAM):   output;
28118      end;
MPRINT(EM_DIAGRAM):   end;
28119      ojump = jump;
MPRINT(EM_DIAGRAM):   ojump = jump;
28120      occc = _ccc_;
MPRINT(EM_DIAGRAM):   occc = _ccc_;
28121      oncl = _ncl_;
MPRINT(EM_DIAGRAM):   oncl = _ncl_;
28122      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 49 observations read from the data set WORK._SEED_.
NOTE: The data set WORK._SEED2_ has 6 observations and 47 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

28123      proc print data=WORK._SEED2_ label;
MPRINT(EM_DIAGRAM):   proc print data=WORK._SEED2_ label;
28124      var numclus cccvalue;
MPRINT(EM_DIAGRAM):   var numclus cccvalue;
28125      label numclus="%sysfunc(sasmsg(sashelp.dmine, rpt_numclus_vlabel ,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label numclus= "Number of Clusters";
28126      label cccvalue="%sysfunc(sasmsg(sashelp.dmine, rpt_ccc_vlabel ,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label cccvalue= "Clustering Cubic Criterion";
28127      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_OptClus_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Candidates for Optimum Number of Clusters";
MPRINT(EM_DIAGRAM):   run;
28128      run;

NOTE: There were 6 observations read from the data set WORK._SEED2_.
NOTE: The PROCEDURE PRINT printed page 5.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

28129      title10;
MPRINT(EM_DIAGRAM):   title10;
28130      data WORK._SEED2_;
MPRINT(EM_DIAGRAM):    data WORK._SEED2_;
28131      length msg $200;
MPRINT(EM_DIAGRAM):   length msg $200;
28132      set WORK._SEED2_ end=eof;
MPRINT(EM_DIAGRAM):   set WORK._SEED2_ end=eof;
28133      retain select cccSelect 0 numSel;
MPRINT(EM_DIAGRAM):   retain select cccSelect 0 numSel;
28134      if _N_=1 then numSel = numClus;
MPRINT(EM_DIAGRAM):   if _N_=1 then numSel = numClus;
28135      if cccvalue>=3 then do;
MPRINT(EM_DIAGRAM):   if cccvalue>=3 then do;
28136      if 20>= numclus >= 2 and cccSelect<1 then do;
MPRINT(EM_DIAGRAM):   if 20>= numclus >= 2 and cccSelect<1 then do;
28137      cccSelect = 1;
MPRINT(EM_DIAGRAM):   cccSelect = 1;
28138      select =1;
MPRINT(EM_DIAGRAM):   select =1;
28139      numSel = numClus;
MPRINT(EM_DIAGRAM):   numSel = numClus;
28140      end;
MPRINT(EM_DIAGRAM):   end;
28141      end;
MPRINT(EM_DIAGRAM):   end;
28142      else if 20>= numclus >= 2 and select<1 then do;
MPRINT(EM_DIAGRAM):   else if 20>= numclus >= 2 and select<1 then do;
28143      select = 1;
MPRINT(EM_DIAGRAM):   select = 1;
28144      numSel = numClus;
MPRINT(EM_DIAGRAM):   numSel = numClus;
28145      end;
MPRINT(EM_DIAGRAM):   end;
28146      if eof then do;
MPRINT(EM_DIAGRAM):   if eof then do;
28147      if ^(select=1 and cccselect=1) then do;
MPRINT(EM_DIAGRAM):   if ^(select=1 and cccselect=1) then do;
28148      put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
28149      put '*;';
MPRINT(EM_DIAGRAM):   put '*;';
28150      put "WARNING: The number of clusters selected based on the CCC values may not be valid.  Please refer to the documentation on the Cubic Clustering Criterion.";
MPRINT(EM_DIAGRAM):   put "WARNING: The number of clusters selected based on the CCC values may not be valid.  Please refer to the documentation on the Cubic Clustering Criterion.";
28151      put '*;';
MPRINT(EM_DIAGRAM):   put '*;';
28152      put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
28153      end;
MPRINT(EM_DIAGRAM):   end;
28154      if select<1 then do;
MPRINT(EM_DIAGRAM):   if select<1 then do;
28155      msg = sasmsg('sashelp.dmine', 'rpt_noCCCclusternum_note', 'NOQUOTE');
MPRINT(EM_DIAGRAM):   msg = sasmsg('sashelp.dmine', 'rpt_noCCCclusternum_note', 'NOQUOTE');
28156      put msg;
MPRINT(EM_DIAGRAM):   put msg;
28157      end;
MPRINT(EM_DIAGRAM):   end;
28158      if cccselect<1 then do;
MPRINT(EM_DIAGRAM):   if cccselect<1 then do;
28159      msg = sasmsg('sashelp.dmine', 'rpt_noValidclusterNum_note', 'NOQUOTE');
MPRINT(EM_DIAGRAM):   msg = sasmsg('sashelp.dmine', 'rpt_noValidclusterNum_note', 'NOQUOTE');
28160      put msg;
MPRINT(EM_DIAGRAM):   put msg;
28161      end;
MPRINT(EM_DIAGRAM):   end;
28162      call symput('em_maxC', strip(put(numSel,best.)));
MPRINT(EM_DIAGRAM):   call symput('em_maxC', strip(put(numSel,best.)));
28163      end;
MPRINT(EM_DIAGRAM):   end;
28164      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 6 observations read from the data set WORK._SEED2_.
NOTE: The data set WORK._SEED2_ has 6 observations and 51 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

28165      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28166      * Clus4: Training;
MPRINT(EM_DIAGRAM):   * Clus4: Training;
28167      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28168      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28169      * Clus4: Run DMVQ procedure;
MPRINT(EM_DIAGRAM):   * Clus4: Run DMVQ procedure;
28170      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28171      title;
MPRINT(EM_DIAGRAM):   title;
28172      options nodate;
MPRINT(EM_DIAGRAM):   options nodate;
28173      proc dmvq data=WORK.Clus4_DMDB dmdbcat=WORK.Clus4_DMDB std=STD nominal=GLM ordinal=RANK
28174      ;
MPRINT(EM_DIAGRAM):   proc dmvq data=WORK.Clus4_DMDB dmdbcat=WORK.Clus4_DMDB std=STD nominal=GLM ordinal=RANK ;
NOTE: The training set WORK.CLUS4_DMDB.DATA has 15 variable(s).
NOTE: The DMVQ statement has finished with return code=0 and status=begin.
MPRINT(EM_DIAGRAM):   input
28175      input %DMVQINTERVAL / level=interval;
MPRINT(DMVQINTERVAL):   Age BMI
MPRINT(EM_DIAGRAM):   / level=interval;
NOTE: 2 input variable(s) defined for ID=I1.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
MPRINT(EM_DIAGRAM):   input
28176      input %DMVQNOMINAL / level=nominal;
MPRINT(DMVQNOMINAL):   AnyHealthcare CholCheck DiffWalk HeartDiseaseorAttack HighBP HighChol HvyAlcoholConsump NoDocbcCost
MPRINT(EM_DIAGRAM):   / level=nominal;
NOTE: 8 input variable(s) defined for ID=I2.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
MPRINT(EM_DIAGRAM):   input
28177      input %DMVQORDINAL / level=ordinal;
MPRINT(DMVQORDINAL):   Education GenHlth Income MentHlth PhysHlth
MPRINT(EM_DIAGRAM):   / level=ordinal;
NOTE: 5 input variable(s) defined for ID=I3.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
28178      VQ maxc = 4 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
MPRINT(EM_DIAGRAM):   VQ maxc = 4 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
NOTE: A maximum of 4 clusters have been requested.
NOTE: The VQ statement has finished with return code=0 and status=architecture.
28179      MAKE outvar=EMWS2.Clus4_OUTVAR;
MPRINT(EM_DIAGRAM):   MAKE outvar=EMWS2.Clus4_OUTVAR;

NOTE: 15 input variable(s).
NOTE: Number of cases=223088
NOTE: Sum of frequencies=223088
NOTE: Sum of weights=223088
NOTE: VARDEF=DF      
NOTE: Maximum number of categories=31
NOTE: The total number of variables is 15 with dimensionality 23.
NOTE: 15 variables will be used for clustering.
NOTE: Open output data set EMWS2.CLUS4_OUTVAR.DATA with 24 variables.
NOTE: The data set EMWS2.CLUS4_OUTVAR has 4 observations and 24 variables.
NOTE: The MAKE statement has finished with return code=0 and status=made.
28180      INITIAL radius=0
28181      ;
MPRINT(EM_DIAGRAM):   INITIAL radius=0 ;
NOTE: 4 seeds were selected from data set WORK.CLUS4_DMDB.DATA using the SEPARATE algorithm.
NOTE: The INITIAL statement has finished with return code=0 and status=initialized.
28182      TRAIN tech=FORGY
28183      ;
MPRINT(EM_DIAGRAM):   TRAIN tech=FORGY ;
NOTE: F-Convergence criterion is satisfied.
NOTE: The TRAIN statement has finished with return code=0 and status=trained.
28184      SAVE outstat=EMWS2.Clus4_OUTSTAT outmean=EMWS2.Clus4_OUTMEAN;
MPRINT(EM_DIAGRAM):   SAVE outstat=EMWS2.Clus4_OUTSTAT outmean=EMWS2.Clus4_OUTMEAN;
NOTE: The data set EMWS2.CLUS4_OUTSTAT has 40 observations and 26 variables.
NOTE: The data set EMWS2.CLUS4_OUTMEAN has 4 observations and 32 variables.
NOTE: The SAVE statement has finished with return code=0 and status=statistics.
28185      code file="\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas"
28186      group=Clus4
28187      ;
MPRINT(EM_DIAGRAM):   code file="\\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas" group=Clus4 ;
NOTE: External file \\uisnutvdiprof1a\redirected$\bkris2\Documents\ZetaProject\ZetaExploratoryAnalysis\Workspaces\EMWS2\Clus4\DMVQSCORECODE.sas opened.
NOTE: The CODE statement has finished with return code=0 and status=statistics.
28188      run;
MPRINT(EM_DIAGRAM):   run;

28189      quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: There were 223088 observations read from the data set WORK.CLUS4_DMDB.
NOTE: PROCEDURE DMVQ used (Total process time):
      real time           1.79 seconds
      cpu time            1.48 seconds
      

28190      libname _spdslib;
MPRINT(EM_DIAGRAM):    libname _spdslib;
WARNING: Libref _SPDSLIB is not assigned.
28191      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28192      * Clus4: Cluster Label;
MPRINT(EM_DIAGRAM):   * Clus4: Cluster Label;
28193      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28194      data EMWS2.Clus4_LABEL;
MPRINT(EM_DIAGRAM):   data EMWS2.Clus4_LABEL;
28195      length _SEGMENT_ 8 Label $80;
MPRINT(EM_DIAGRAM):   length _SEGMENT_ 8 Label $80;
28196      format _SEGMENT_ 4.;
MPRINT(EM_DIAGRAM):   format _SEGMENT_ 4.;
28197      label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _SEGMENT_ = "Segment Name";
28198      label Label = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentLabel_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Label = "Segment Label";
28199      _SEGMENT_= 1;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 1;
28200      Label='Cluster1';
MPRINT(EM_DIAGRAM):   Label='Cluster1';
28201      output;
MPRINT(EM_DIAGRAM):   output;
28202      _SEGMENT_= 2;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 2;
28203      Label='Cluster2';
MPRINT(EM_DIAGRAM):   Label='Cluster2';
28204      output;
MPRINT(EM_DIAGRAM):   output;
28205      _SEGMENT_= 3;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 3;
28206      Label='Cluster3';
MPRINT(EM_DIAGRAM):   Label='Cluster3';
28207      output;
MPRINT(EM_DIAGRAM):   output;
28208      _SEGMENT_= 4;
MPRINT(EM_DIAGRAM):   _SEGMENT_= 4;
28209      Label='Cluster4';
MPRINT(EM_DIAGRAM):   Label='Cluster4';
28210      output;
MPRINT(EM_DIAGRAM):   output;
28211      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set EMWS2.CLUS4_LABEL has 4 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.04 seconds
      

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
